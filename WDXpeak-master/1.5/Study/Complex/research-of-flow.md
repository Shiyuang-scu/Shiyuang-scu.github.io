# “流”的探索

<!-- MarkdownTOC -->

- 流动与幂律
- 分形输运网络
- 通向理论

<!-- /MarkdownTOC -->


## 流动与幂律

流动是复杂系统中的普遍现象之一，从看得见的流动，例如：水流、人流；到看不见的流动，如：电流、能量流、热流；再到更加抽象的：货币流、信息流等等，似乎如果一个系统是复杂的，它的内部就一定存在着各种流动。那么是否存在着某个普遍的规律制约着这些流动呢？答案应该是肯定的，虽然这种规律仍然“犹抱琵琶半遮面”，但是近年来有关生态学、非平衡态统计物理的研究已经逐渐逼近它，各种迹象表明，一种统一的可以描述复杂系统中“流动”现象的通用规律即将“横空出世”。

假设你是一个公司的老板，正在运营一家拥有M亿元固定资产的企业，那么，你要保证每个月净盈利多少亿F才能使你的企业能够维持下去？很显然，这个问题取决于你这个公司每个月烧多少钱。由于每个月你都需要给你的员工开工资、需要交房租、需要购买新的电脑，那么这些花费的总和一定是一个与M有关的量。一般来说，M越大，公司每个月的花费F也越大，你需要为更多的人开工资、需要维护更昂贵的计算机设备，因此每个月公司需要赚取的净盈利也就越大。那么F和M究竟存不存在着某种数量关系呢？

不要着急回答这个问题，让我们先来看看大自然。大自然有各种各样的物种，每个物种都有着不同的重量（body mass）。同时每个物种都需要新陈代谢，它们需要不停的从外界环境获取能量资源以维持自身的生命。如果设一个物种的平均重量是M，它的新陈代谢量是F，那么一般来说M越大F也越大。大象要维持生存一天总要比老鼠吃的多得多。

对比这两个问题，我们会发现它们有着下面的类比关系： 公司<->物种 固定资产<->平均重量 每月的净盈利<->新陈代谢 货币<->能量

物种和公司就好比是这个大水缸，只不过一个存的是钱，另一个存的是能量。由于这个存量M会由于热力学第二定律（无序度持续增加）而不断地衰退，也就是说这个水缸是漏的，每时刻都有一个流出Fo，例如公司要计算各种固定资产的折旧费、生物则会因为新陈代谢而不断消耗着能量，因此，它需要不断补给流入Fi以维持M。当Fi=Fo的时候，系统的流入和流出平衡了，M就是不变的了。我们称这种状态为稳衡态（steady state），即一种动态之中的平衡。

最早发现M与F之间存在着明确关系的是在生物界。1932年，一个叫Max Kleiber的生物学家对各种鸟类、哺乳类动物的尺寸M与新陈代谢F之间的关系进行了测量，并将它们的对数值画到一张图中，发现所有的数据点都排列到了一条直线上，

这说明，F与M之间的确存在着一种幂律关系也就是其中F0和b都是常数。经测量发现，这个直线的斜率b接近于3/4这个数。这个关系后来又被Brody证实，小到老鼠，大到大象，新陈代谢和生物体重量之间的关系都符合确定的关系式：

普遍认为F与M是呈一种正比的关系即F~M。这样，当生物体体积增长10000倍的时候，它的新陈代谢也同样增长10000倍。然而，根据，事实却是当生物体增长10000倍，它的新陈代谢却仅仅增长1000倍，要小于线性增长的关系。因此，生物体为了维持每单位体积所需要的新陈代谢的能量是，反而会随着体积的增大而减小。因此，大象比老鼠能够更有效率利用吸收来的能量，即越大越好，所以3/4律蕴含了一种“规模效益”。

异速生长尺度规律（Allometric scaling）

当我们有了3/4律，还可以得到更多有意思的推论。因为我们可以把生物体理解为一个盛水的水缸，新陈代谢作为一种流动不断更新这个水缸里面的水。那么，我们考虑一单位新陈代谢吸收的能量会在水缸中平均逗留多长时间而被排出？经过很简单的计算可以得出，这个时间大概是： 即与重量呈1/4的幂律关系。经过试验验证人们发现，生物体的各种时间量，例如寿命、发育时间、怀孕时间都与它的重量的1/4呈正比。因为时间的倒数就是频率，因此，不难推论生物的各种频率（即快慢程度），如：心跳频率、出生率、死亡率（出生率与死亡率是针对整个种群而言的）都与M呈-1/4的幂律关系，

让我们放眼大千世界，这样的流量与存量、时间与规模之间的矛盾和关系几乎到处存在，所以最初来源于生物学的3/4律的发现也许蕴藏着一切复杂系统共有的规律。

## 分形输运网络

类似于河流网络，生物体内部的疏运网络具有一种分形结构。所谓分形就是指一种自相似的几何体。具体到河流中，如果你将任何一个局部支流放大到整个河流的尺度，你会发现它们是相似的。这样，河流每分叉一次，这个分叉就像一开始的主流一样再次作用到土地上，形成更多的分叉……，就好像无穷递归的计算机程序一样，这个分叉过程会越分越细。如果你要想计算整个河流网中的水流总量，那么你只需要把各个分支的流量加起来，而因为分支是自相似的，每个分支的流量都是总流量的一个分数，那么整个流量就是计算一个等比数列的和。那么这个总和跟一开始的河流主流流量有什么关系呢？幂律关系！想到这里，Geoffrey兴奋地开始在纸上摆弄起了数学方程。

虽然这个模型推导现在看来过于繁琐，但是，它的想法却抓住了本质的因素，这就是之所以生物体符合3/4幂律分布，是因为它们并不是简单的几何构型，而是一种具有分形结构的网络。分形几何结构通俗来讲就是一种自相似的结构。从云朵到山脉再到金融市场，人们已经发现这种自相似的结构普遍存在。因而从这一点来讲，West的解释模型具有普遍的意义：为什么大自然各种复杂系统中广泛存在着流量与存量之间的幂律关系？这是因为流动形成的分形网络填充了系统所存在的空间。

人们普遍相信，大自然进化似乎总是要把生物打造的更加精巧，从某种程度上来说就是让它们具有更优越的、更有效率的结构。那么，很有可能生物体内部普遍存在的分形输运网络是因为自然进化造就出来的某种最优的、最有效率的结构。

通过这一章的讨论我们看到，生物体普遍存在的幂律分布关系背后很有可能是和某种自相似的分形输运网络有着密切的关系。而进一步的研究表明，这种分形网络的形成是因为系统优化某种函数的结果。那么，在自然界中，这种被优化的函数究竟是什么呢？它有没有更深刻的理论结果呢？

## 通向理论

从West到Banavar，再到Bejan，它们都提到了类似的优化目标，即使得系统中的资源流动更加顺畅，更加有效率。进一步，我们可以把这个原理抽出来，即系统优化的目标是使得流动能够达到最大，我们况且称之为最大流原理吧。

让我们放眼大千世界，最大流原理似乎很有根据。我们中国存在着一句古话，就叫做“人尽其才，物尽其流”，也就是说社会发展的总目标就是要让物品的流动能够尽量顺畅。的确，我们看到经济的发展往往伴随着物品流动速度的加快。火车在提速、GDP（经济系统货币的总流量）在增长、物流行业在腾飞等等。

在生态学领域中，著名生态学家Lotka早在1922年的时候就提出来了生态系统中的能量流动加快的原理。之后，该原理又被著名生态学家Odum命名为最大功率原理（Maximum power principle），这里的功率就是能量除以时间，即能量流动。我们都知道，生态系统是由特定区域的多个物种由于相互作用而形成的整体系统。物种之间的相互作用可以抽象看作是一种能量的交换或称之为流动。那么，最大功率原理是说，生态系统作为一个整体的开放系统会由于进化的作用而逐渐趋向于系统内部的能量流动加快。（参考Odum有关最大功率原理的文献）

在Odum提出了最大功率原理之后，还有一批生态学家提出了许多类似的生态系统进化的目标函数。其中，最大化熵产生原理则与众不同，因为它深深植根于非平衡态热物理。著名的物理学家、化学家，复杂系统理论研究的先行者普利高津很早的时候就提出了一个类似的最小熵产生原理，只不过它仅限于平衡态附近的系统。进一步，很多人从不同的问题分别提出了处于非平衡态的系统朝向最大化熵产生的方向发展的理论，并在大气系统、流体、电路等领域进行了成功的应用。

一方面，快速的路径可以诱导水流，而水流又会选择快速的路径。如果我们把自然生态系统中的能量看作水流，那么也就是能够更快速地疏导能量流的物种会获取更多的能量，因而具有更强的竞争优势。因此，整个生态系统就会逐渐进化到使得能量流动加快，这就是最大功率原理。

第二种情况是路径可以被水流冲击而改变。这样如果路径阻挡了水流的流动，那么水流就会不断冲击它而改变路径的形状。这样反复冲刷的结果就会使得流动更加顺畅。因此最后大自然构造出来的水流路径一定是使得水流流速最快的一条。这样，如果水的流入是一点，流出也是一点，类似河流中的一小段，那么水流会造就一条最快的联通两点的路径。但是如果水的流入是一点，而流出可能是非常多的点，那么会怎样呢？例如，从山顶的水流往往是从一点流下，但是山底却有很多点可以让水流流出。有趣的是，在这种情况下，水流就可以通过冲刷而构造出分形的树状结构，实际中的河流就是这样的情况。

能量不仅可以沿着路径流动，同时路径反过来又可以被能量流动所改变。当能量可以从一点注入，而可以从多点流出的时候，流动就会构造出分形的河流疏运网络结构。

造成流动的原因是因为广义的高度：势的存在。它是一种不同节点之间的差异性。按照我们的猜想，也就是不同能量形式所存在的频谱，它形成了空间中的一个重要维度。另外一个重要的空间维度就是横坐标轴，能量流会在这个轴上分叉。如果我们仅仅画出这个空间维度，那么，不难看出，整个过程就好像是一个发生在该空间上的扩散过程。而且随着时间的推移，能量流创造了越来越多的结点，那么这些节点就会渐渐占领更大的空间。

首先，只要系统处于稳衡态，那么这些小的过程就是相对不变化的。而有趣的是，每个小过程本身并不是固定的水分子，而是不停地被新的水分子替换掉的流动过程本身。其次，一个开放的不停流入水分子的系统在这里就变成了一个固定的封闭的系统。一个非平衡的系统对于这群小过程来说就变成了平衡的系统。

有趣的是，法国物理学家R.C. Dewar在2003年的时候在Physica A上发表了一篇论文Information theory explanation of the fluctuation theorem, maximum entropy production and self-organized criticality in non-equilibrium stationary states，用一套统一的框架自然导出了最大熵产生原理，以及另外两个著名的非平衡态系统中的重要现象：自组织临界性、涨落定理。他用到的一个重要的基本思想就是将系统的变化路径（水分子的运动过程）本身看作是微观的对象。

在生态系统中，各个物种通过捕食与被捕食的关系构成了复杂的食物网络。在食物网中，每发生一次捕食与被捕食关系，就会有一股能量从网中的一个节点流向另一个节点。如果系统中的物种足够丰富，那么这里面的捕食与被捕食的关系也就足够多样，因而粗略说，物种的多样化就会导致系统中总体的能量流加强。物种的多样性可以理解为物种在表型空间中的一种扩散行为，于是这就解释了最大功率原理，即它是一种表型空间中热力学第二定律的体现。

首先，我们从新陈代谢和生物体尺寸之间的3/4幂律关系出发，揭示出普遍存在于复杂系统流动现象的幂律关系；其次，我们提到了各种解释这些幂律关系的模型，之所以会有这么多幂律关系是因为生物体内存在着分形的输运网络，并且这些网络作为长期进化的结果，它的结构会使得能量在生物体内的流动达到最快。进一步，我们提出了一个最大流原理，并给出了更深一层次的猜想：即流动的最大化可能是高层次空间上热力学第二定律的表现。

一个计算机软件系统也可以看作是这样一种广义的生态系统。什么是这个生态系统中的能量流呢？我们不妨假设CPU的执行相当于一种能量流。一个软件不同程序部分的执行权利是由用户决定的，这样用户就构成了整个软件生态系统的太阳，他不断地给系统输入能量资源进来。被首先执行的软件模块相当于植物，被这些模块调用而执行的模块相当于吃草类动物，次级被调用的相当于食肉类动物。被执行次数越多的软件模块就相当于拥有越多能量的物种。这样，整个软件就由各个模块以及相互之间的调用关系构造成一个复杂的食物网。好的软件系统可以便利地被人们使用，因而就相当于能量流被最大化。我们甚至可以开发出一整套方法来研究如何优化软件系统。（著名的人工生命系统：Tierra就是将程序比喻成物种，CPU执行时间比喻成能量而设计的）

长久以来，人工智能的研究始终没有突破，这是因为人们忽视了机器学习的问题。然而，传统机器学习理论往往都是从各种算法的修修补补进行改进，没有人从开放的流系统这个角度来思考人工智能中的学习。如果把新的知识作为一种能量的来源，而把整个学习形成的各种知识积累作为一种促使能量流动的网络，那么我们完全可以把机器学习系统看作是一个广义的生态系统。于是，机器学习的目的也是为了能够最大化这种广义的能量流。也许，这种全新的视角可以给我们带来新的认识。例如，机器学习系统中是否存在新知识与已有知识的幂律分布关系？如果我们把遗传算法中的变异和交叉操作看作是一种注入的能量流，而把整个系统存在的规则、程序看作是一种存量的话，那么是否流量和存量依然存在着幂律关系？或者说也许最优的设计就来源于这种幂律分布关系？
