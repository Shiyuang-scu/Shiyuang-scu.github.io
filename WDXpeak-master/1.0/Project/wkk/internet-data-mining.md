# 互联网数据挖掘

万小军 http://www.icst.pku.edu.cn/lcwm

<!-- MarkdownTOC -->

- 互联网挖掘概述
- 文本信息检索
    - 文档表示
    - 文档索引
        - 倒排索引(inverted index)
    - 文本信息检索模型
        - 布尔模型(Boolean Model)
        - 向量空间模型(Vector Space Model)
        - 概率模型(Probabilistic Model)
    - 信息检索评价
- Web 检索
    - Web 页面采集
    - Web 页面排序
    - Web 链接分析
    - 基于学习的网页排序
    - 搜索引擎优化(SEO)
- 自然语言处理基础
    - 基本任务
    - 为什么如此之难
    - 推荐教材
    - 汉语自动分词
    - 词性标注(POS Tagging)
    - 句法分析
- 数据挖掘概述与关联规则挖掘
    - 数据挖掘流程
    - 数据挖掘任务
    - 关联规则挖掘：定义
    - 摘要
    - 回归
    - 偏差/异常检测
    - 数据挖掘工具
    - 数据挖掘的挑战
- 分类
    - 基于规则的分类
    - 基于统计的分类
    - 文本统计分类流程
    - 文本分类-特征向量表示
    - 文本分类-特征选择
    - 朴素贝叶斯分类
    - Rocchio 分类方法
    - K 近邻分类方法
    - 支持向量机 Support Vector Machine
    - 分类结果评估
    - 如何应用于实际
- 聚类
    - 层次式聚类
    - K 均值(K-means)聚类
    - Buckshot 算法
    - 增量式单遍聚类(Single-Pass)
    - 基于图分割的聚类
    - 基于密度峰值的聚类(Science)
    - 半监督聚类
    - 聚类结果评估
    - 聚类算法的选择
    - 半监督聚类
    - 检索结果聚类
- 智能问答基础技术
    - 问题类型
    - 主要技术
- 互联网信息抽取
    - 文本语义信息抽取
    - 实体识别
    - 语义类挖掘
    - 相关系统
- 情感分析与观点挖掘
    - 研究框架
    - 情感分类
    - 情感词汇资源构建
    - 观点抽取
- 信息摘要
    - 文档摘要基本技术
    - 抽取式文档摘要
    - 相关评测
- 社交网络分析
    - 社会网络
    - 异构网络
- 信息推荐
    - 推荐技术
    - 基于内容的推荐
    - 协同推荐
    - 推荐结果的评估准则
    - 更多推荐技术
    - 主要的开源工具

<!-- /MarkdownTOC -->

---

## 互联网挖掘概述

+ Web 挖掘
    + 由 Etzioni(1996) 提出
    + 使用数据挖掘的技术自动从 Web文档/服务发现和提取信息和知识，包括隐含的模式和关系等
+ 相关技术
    + 信息检索
    + 互联网
    + 数据库
    + 机器学习
    + 自然语言处理
    + 数据挖掘
+ 相关学术会议
    + Web 搜索: SIGIR, WWW, CIKM, WSDM
    + 数据挖掘: KDD, ICDM
    + 自然语言处理: ACL, EMNLP
    + 多媒体检索: ACM, MM
+ 应用
    + 垂直搜索
    + 个性化推荐
    + 智能问答
    + 机器翻译
    + 舆情监测
    + 情报与反恐
    + 预测

---

## 文本信息检索

+ 两个核心问题
    + 效果
        + 如何准确匹配查询与文档
        + 基于检索模型
    + 效率
        + 如何快速返回检索结果
        + 基于索引

### 文档表示
+ 元描述(Meta-descriptions)
    + 域信息(author, title, date)
    + 关键词、受控词汇
    + 分类
    + 优点
        + 主要依赖人工标注，结果比较可靠
        + 基于受控词汇的检索很高效
    + 不足
        + 人工标注非常耗时
        + 检索受限制
+ 自动文档表示
    + 词袋(Bag of Words)
        + 一篇文档由该文档中出现的词的集合所表示
        + 词语的无序集合，句法信息丢失
        + 符号化(tokenization):识别词的边界
        + 英文中大小写
        + 词语形态规范化
            + 匹配 company 和 companies? sell 与 sold?
            + 删除词语的形态信息: 时态，数量...
        + 词根(Stemming)
            + 删除后缀
            + 基于规则进行(例如 Porter's stemmer)
            + Stemming 的结果可能不是词语
            + 不相关的词可能具有相同的 stem
        + 词形还原(Lemmatization)
            + 将词语变为其语法原型(syntactic stem)
            + 使用一般规则与例外处理
            + 处理结果仍然为词
            + 处理过程要考虑词性的不同
        + 停用词(Stop Words)
            + 不具有内容信息的词
            + 停用词表依赖于具体文档集及具体应用
            + 过滤停用词的原因
                + 停用词并不能提高检索效果
                + 可以大幅减少索引大小
                + 减少检索时间
        + 大部分互联网搜索引擎并不使用 stemming/lemmatizatoin
            + 文档集很大
            + 不太考虑召回率
            + Stemming 结果并不完美
        + 大部分互联网搜索引擎使用停用词表
        + 无法从词袋表示恢复原文档
        + 优点: 简单、有效
        + 缺点: 忽略了词之间和句法关系以及篇章结构的信息

### 文档索引

+ 目的在于提高检索效率
+ 索引对象的选择
+ Phrase 识别比较困难，并不能显著提高检索效果
+ 通常采用 word 构建索引
+ 索引压缩: 减小索引大小
+ 动态索引: 索引库的动态维护、更新
+ 分布式索引: 索引信息分布在不同机器上
+ 具体细节参阅 Lucene 开源检索系统的相关代码

#### 倒排索引(inverted index)

+ 以关键词为核心对文档进行索引
+ 帮助快速地找到文档中所包含的关键词
+ 可看做连标数组，每个链表的表头包含关键词，其后序单元则包括所有包括这个关键词的文档标号，以及一些其他信息，如该词的频率和位置等
+ 优势
    + 关键词个数比文档少，因此检索效率高
    + 特别适合信息检索
+ 数据结构
    + 关键词查询一般采用 B-Tree 或哈希表
    + 文档列表组织一般采用二叉搜索树

### 文本信息检索模型

+ 基本思想: 如果一篇文档与一个查询相似，那么该文档与查询相关
+ 相似性
    + 字符串匹配
    + 相似的词汇
    + 相同的语义
+ 检索模型
    + 对实际检索过程的抽象和建模
    + 终极目标是基于语义进行匹配

#### 布尔模型(Boolean Model)

+ 基于布尔代数
+ 优点
    + 简单
    + 对查询严格掌控
+ 缺点
    + 一般用户难以构造布尔查询
    + 检索结果文档无法排序
    + 严格匹配，导致过少或过多的检索结果
+ 尽管布尔模型不再用作主流文档检索模型，但其思想常用于实现高级(综合)检索功能

#### 向量空间模型(Vector Space Model)

+ 现代信息检索系统中比较常用的检索模型
+ 特性
    + 用户输入自由文本作为查询
    + 对文档进行排序
    + 匹配准则放松
+ 思想: 文档与查询都是高维空间中的一个向量
+ 向量空间表示
    + 文档是词语组成的向量
    + 词语是文档组成的向量
    + 查询是词语组成的向量
+ 相似性
    + 用内积衡量
        + 缺点
            + 长文档由于更可能包含匹配词语，因而更可能相关
            + 然而，如果两篇文档具有同样的相似值，用户更倾向于短文档，短文档更聚焦在用户信息需求上
        + 相似性计算中应该考虑文档长度(进行规范化)
    + 用夹角来衡量
        + 向量归一化
        + 余弦度量(Cosine Measure)
        + 余弦相似度(Cosine Similarity)
+ 词语权重
    + 之前采用二值表示: 非 1 即 0
        + 没有反映词语频率
        + 假定所有词语均同等重要
    + tf: 词语出现的频率
        + tf~i,j~ = frequency of term i in document j
    + idf: 区别不同词语的重要性
    + tfidf
+ 其他相似性度量
    + Minkowski metric(dissimilarity)
    + Euclidian distance(dissimilarity)
    + Jacquard measure
    + Dice's coefficient

#### 概率模型(Probabilistic Model)

+ 1977 年由 Stephen Robertson 提出

### 信息检索评价

+ 评鉴检索模型或搜索引擎的性能
+ 搜索质量 vs 搜索效率
+ 对搜索质量的评价
    + 评测数据集
    + 评测指标
+ 相关评测
    + TREC
        + trec.nist.gov
        + 最具影响力
        + 多种信息检索任务，侧重于英文
    + NTCIR
        + research.nii.ac.jp/ntcir/
    + CLEF
        + www.clef-campaign.org
+ 评测数据集
    + 一般人工构建
    + 构成
        + 较大规模的文档集合 D
        + 查询集 Q 以及每个查询 q 对应的相关文档列表 REL~q~
+ 评价指标
    + 衡量检索结果与标准答案的一致性
    + 对非排序检索的评价
        + 对检索结果集合进行整体评价
        + 准确率(precision)与召回率(recall)，通常相互依赖
        + F 值(F-measure)
    + 对排序结果的评价
        + 考虑相关文档在检索结果中的排序位置
        + 在不同 recall levels 的 precision 值
        + 沿着检索结果列表从头往后考察
    + 对多级排序检索的评价
        + NDCG - Normalized Discounted Cumulative Gain

---

## Web 检索

Web 检索 = 文档检索 + 针对 Web 检索的新技术

### Web 页面采集

+ Web Crawler, spider
    + 快速有效地收集尽可能多的有用 Web 页面，包括页面之间的链接结构
+ Web 爬虫需要具备的特性
    + 健壮 robustness, 避免 spider traps
    + 友好 politeness, 遵守 web server 的采集协议
    + 分布式 distributed, 多台机器分布式采集
    + 可扩展 scalable, 爬虫架构方便扩展
    + 性能与效率，有效利用系统资源
    + 质量 quality, 倾向于采集有用的页面
    + 新颖 freshness, 获取网页的最新版本
    + 可扩充 Extensible, 能够处理新数据类型、新的采集协议等
+ Web 页面爬取策略
    + 深度优先
    + 广度优先
    + 实际应用中以广度优先为主，深度优先为辅
+ 难点
    + 暗网的采集，只有向数据库提交查询才形成的 Web 页面
    + Web 2.0 内容，脚本语言等生成的动态内容
    + 多媒体内容

### Web 页面排序

+ 与查询相似度最大的网页并不一定是最好的结果
+ 用户对 Web 页面的期望
    + 易于理解，可靠，作为查询话题的入口，能够回答差群的信息需求
+ 基于相关度的排序
    + 计算查询与页面内容的相似程度(依据文档检索模型)
+ 基于重要性的排序
    + 基于链接分析计算
+ 综合排序
    + 页面排序值 = 页面内容相关度 +/* 页面重要性

### Web 链接分析

+ Web 页面之间的超链关系非常重要
+ 一条从页面 A 指向页面 B 的链接表明
    + A 与 B 相关
    + A 推荐/引用/投票/赞成 B
+ 经典算法
    + HITS[Kleinberg, 1997] - Hypertext Induced Topic Selection
    + PageRank[Page & Brin, 1998]
+ 排序沉入(Rank Sink)
    + 形成 loop, 没有 outlink
    + 页面 A 与 B 相互提高 Rank, 而不向外分发 Rank

### 基于学习的网页排序

+ Learning to Rank 主流算法
    + RankSVM
    + RankNet
    + ListNet
+ Learning to Rank 工具包
    + RankLib
    + people.cs.umass.edu/~vdang/ranklib.html

### 搜索引擎优化(SEO)

+ Search engine optimization
    + 提高网站或网页在搜索引擎中可见度(排名)的过程
+ 基本思想
    + 基于各类搜索引擎的工作原理(采集、索引、排序等)，对网站进行相关的优化的调整，提高网站在搜索引擎中的排名
    + 白帽：合理优化，不牺牲用户体验
    + 黑帽：不正当优化，牺牲用户体验
        + 重复、隐藏文字、链接工厂、桥页、跳页
+ 影响排名的因素
    + 内部因素
        + URL 中出现关键词
        + 网页 Title 中出现关键词
        + 常规内容中出现关键词
        + 在页面的最后一段中出现关键词
        + `<Head>` 标签 比如 h1, h2 中出现关键词
        + 站内的链接中出现关键词
        + 导向相关内容的导出链接
        + 导出链接中出现关键词
        + 图片文件名中出现关键词
        + Alt 标签中出现关键词
        + comment 中出现关键词
        + 合理的频率更新内容
        + 内容对搜索引擎的展示位置
        + 网站结构循环 PR, 而非散发 PR
        + 关键词进行适当的修饰(加粗、斜体等)
    + 外部因素
        + 大量的导入链接
        + 从高 PR 值的网页获得导入链接
        + 从相关内容网站获得导入链接
        + 导入链接指向的网页有具体内容
        + 锚文字中有关键词
        + 锚文字周围有相关词
        + 锚文字存在于文章或句子中
        + 导入链接的时间长度，一般导入链接的存在时间有3-6个月
        + 单向链接的价值高于交换链接
        + 导入链接的页面的导出链接小于 100 个，流出链接越少越好
        + 链接来自不同 IP
        + 合理的导入链接增长频率
+ SEO 操作
    + 站外 SEO
        + 网站外部链接优化、网站的链接见识、网站的外部数据分析等
        + 交换、购买链接，提交网址到分类目录等
    + 站内 SEO
        + 网站结构的设计、网站代码优化和内部链接优化、网站内容的优化、网站用户体验优化等
        + 丰富网站关键词、主题集中、友好的网页结构、避免重复、有规律的更新等

---

## 自然语言处理基础

又称**自然语言理解**，是人工智能和语言学领域的分支学科。利用计算机对人类特有的书面形式和口头形式的自然语言进行各种类型处理和加工的技术。

自然语言生成：利用计算机自动生成可理解的自然语言文本的技术

### 基本任务

+ 关键任务
    + 自动分词
    + 命名实体识别
    + 词性标注
    + 句法分析
    + 语义分析
    + 篇章分析
+ 应用型任务
    + 机器翻译 Translation
    + **文本分类** Classification
    + 情感分析
    + 信息检索与过滤 Mining/Retrieval
    + 自动问答 Question Answering
    + **信息抽取** Extraction
    + **自动文摘** Summarization
    + 人机对话 Dialogue

### 为什么如此之难

+ 自然语言与生俱来的歧义问题
+ 自然语言中存在未知的语言现象
    + 新的词汇
    + 新的含义
    + 新的用法和语句结构
+ 人类用语言进行社会交流时会省略公有制是，但机器很难获取及更新世界知识

### 推荐教材

+ Foundations of Statistical Natrual Language Processing
+ Speech and Language Processing
+ 统计自然语言处理

### 汉语自动分词

一般认为：词是最小的、能够独立运用的、有意义的语言单位

**汉语分词的挑战**

+ 词和词组的边界模糊
+ 新词(未登陆词)
+ 切分歧义
    + 汉字串 AJB 被称作**交集型切分歧义**，如果满足 AJ, JB 同时为词，此时汉字串 J 被称作交集串
    + 汉字串 AB 被称作**组合型切分歧义**，如果满足条件 A, B, AB 同时为词
    + 真歧义：存在两种或两种以上的真实存在的切分形式

**分词方法**

+ 简单的模式匹配
    + 正向最大匹配(FMM)、逆向最大匹配(BMM, 比正向更有效)、双向匹配(BM, 比较两种方法的结果，大颗粒词越多越好，非词典词和单子词越少越好，可以识别出交叉歧义)
+ 基于规则的方法
    + 最少分词算法
+ 基于统计的方法
    + 统计语言模型分词、串频统计和词形匹配相结合的汉语自动分词、无词典分词
    + 第一步是候选网格构造：利用词典匹配，列举输入句子所有可能的切分词语，并以词网格形式保存
    + 第二步计算词网格中的每一条路径的权值，权值通过计算图中的每一个节点(每一个词)的一元统计概率和节点之间的二元统计概率的相关信息
    + 最后根据图搜索算法在图中找到一条权值最大的路径，作为最后的分词结果
    + 优缺点：可利用不同的统计语言模型计算最优路径，具有比较高的分词正确率；但算法时间、空间复杂度较高

### 词性标注(POS Tagging)

+ 为句子中的每个词语标注词性(part-of-speech marker)
+ 可看做是词法分析的关键任务，也可看做是句法分析的最低层次
+ 对后续句法分析、词义消岐等任务非常有用

### 句法分析

+ 句法/成分/短语结构分析 vs 依存关系分析
+ 完全分析 vs 局部分析/浅层分析
+ Context Free Grammars(CFG)

---

## 数据挖掘概述与关联规则挖掘

数据挖掘从多学科领域发展而来：Statistics/AI, Machine Learning, Pattern Recognition, Database systems

### 数据挖掘流程

**Data** -Selection-> **Target data** -Preprocessing-> **Preprocessed data** -Transformation-> **Transformed data** -Data mining-> **Patterns** -Interpretation/evaluatoin-> **Knowledge**

### 数据挖掘任务

+ 预测型(Prediction Methods): 基于一些变量预测其他变量的未知值或未来值
    + 分类 Classification
    + 回归 Regression
    + 偏差检测 Deviation Detection
+ 描述型(Description Methods): 发现描述数据的人们可解释的模式
    + 聚类 Clustering
    + 关联规则挖掘 Association Rule Discovery
    + 摘要 Summarization

### 关联规则挖掘：定义

关联规则反映一个事物与其他事物之间的相互依存性和关联性。如果两个或者多个事物之间存在一定的关联关系，那么其中一个事物就能够通过其他事物预测到。关联规则表示了项之间的关系。

+ 给定一个记录集合，每个记录包含若干项
    + 产生依赖规则，可以基于某些项的出现预测一个项的出现

应用：市场营销

+ 假如发现一条规则
+ {面包圈..} -> {薯片}
+ 可以帮助提高薯片的销量

### 摘要

为数据集进行总结，提供一个简洁/紧凑的表示，包括可视化与报表生成

### 回归

+ 基于若干变量的值预测一个给定的具有连续值的变量的值
    + 假设一个线性或非线性的依赖模型
+ 举例
    + 基于广告开支预测新产品的销售额
    + 基于温度、湿度、气压等预测风速
    + 预测股票指数

为数据预测一个连续值，确定两种或两种以上变量间的相互依赖关系。

+ 最简单的情形: 一元线性回归
    + 只包括一个自变量 x 和一个因变量 y，且二者的关系可用一条直线近似表示
    + 回归分析的目标为找一个线性函数迎合训练数据
    + 可采用最小二乘法
+ 其他回归方法
    + Logistic 回归
    + 岭回归
    + 支持向量回归
+ 回归结果评价
    + 均方误差(Mean Squared Error, MSE)
    + 均方根误差(root mean square error, RMSE)

### 偏差/异常检测

+ 从正常行为中检测显著的偏差/异常
+ 举例
    + 信用卡欺诈检测
    + 网络入侵检测

### 数据挖掘工具

+ Free open-source software and application
    + Weka
    + GATE
    + Carrot2
    + NLTK
    + Orange
    + RapidMiner
    + KNIME
+ Commercial software
    + IBM InfoSphere Warehouse
    + Microsoft Analysis Services
    + SAS Enterprise Miner
    + STATISTICA Data Miner
    + Oracle Data Mining

### 数据挖掘的挑战

+ 可拓展性
+ 挖掘高维数据、高速数据流
+ 挖掘序列数据、时间序列数据
+ 从复杂、异构、网络化数据中挖掘复杂知识
+ 挖掘低质量数据
+ 安全性、隐私保护

---

## 分类

将数据划分到已知类别。分类器的构建基于有监督学习(标注数据:训练集)

+ 给定一个样例集合(训练集)
    + 每个样例包含一个属性集合，其中一个属性是类标记/类号
+ 基于训练集构建一个模型，该模型将类标记属性看作是其它属性值的一个函数
+ 目标：对心的样例尽可能准确地赋予标记
    + 基于一个测试集来评估模型的准确性

Training Set -> Learn Classifier -> Model <- Test set

+ 二类分类：正、负
+ 多类分类：多类(>=3)

二类分类是分类问题的最基本形式，多类分类问题可通过转化为二类分类问题加以解决。

+ One vs. One
    + 对于 K 类分类需要 K(K-1)/2 个二类分类器
    + 测试分类时采用投票方式确定类别
    + E.g. Labels: a, b, c
    + 分类器: a vs b, b vs c, a vs c
+ One vs. All(Rest):
    + 对于 K 类分类需要 K 个二类分类器
    + 测试分类时取返回最大值的类别
    + E.g. Labels: a, b, c
    + 分类器: a vs (b, c), b vs (a, c), c vs (a, b)

层次式分类，类别构成层次式结构(树状)。中图法、ODP目录。

+ 应用
    + 新闻分类
    + 广告页面判别
    + 垃圾邮件过滤
    + 垃圾短信过滤
    + 博客风格判断
    + 评论情感分析

### 基于规则的分类

人工/专家制定分类规则，使用布尔操作符(AND, OR, NOT)，可将规则组织成决策树，节点代表规则，叶节点代表类别

+ 优势
    + 透明，易于理解，易于修改
+ 劣势
    + 复杂，耗时
    + 主要依赖人工/专家的智能，而非系统/机器智能
    + 不易拓展
    + 绝对的类别划分，无置信度

### 基于统计的分类

+ 优势
    + 可以输出置信概率、允许阈值控制、可扩展
+ 劣势
    + 需要已标注好的训练数据
+ 典型方法
    + 朴素贝叶斯
    + Rocchio
    + K 近邻
    + 支持向量机

### 文本统计分类流程

+ 预处理
    + Tokenization
    + Filtering
    + Stemming
+ 特征计算
    + tf
    + Log(tf+1)
    + tfidf
+ 特征选择
    + MI
    + Chi-Square
    + Information Gain
+ 分类学习
    + SVM
    + Rocchio
    + Naive Bayes
+ 结果评估
    + Recall
    + F-Measure
    + Precision

### 文本分类-特征向量表示

+ 文本表示为特征向量
    + 词语(term): 基本单元
    + 权重 TF * IDF
        + TF: 词频
        + IDF: log(N/DF), N 为文档总数量，DF 为包含该词语的文档数量

### 文本分类-特征选择

+ 好处
    + 减少特征维数，改善效果
    + 防止过拟合，增强模型的泛化能力
    + 提高学习效率
    + 提高模型的可解释性
+ 方法，从原有特征集合中找出一个更加有效的子集
    + Document Frequency 文档频率
        + 词语的 DF 小于某个阈值去掉(太小，没有代表性)
        + 词语的 DF 大于某个阈值也去掉(太多，没有区分度)
    + Mutual Information 互信息
        + MI 越大词语 t 和 c 共现程度越大
    + Information Gain 信息增益
        + 词语 t 为整个分类所能提供的信息量(不考虑任何特征的熵和考虑该特征后的熵的差值)
    + Information Ratio
    + Chi Squrae
    + Odd Ratio

### 朴素贝叶斯分类

+ 基于概率理论的学习和分类方法
+ 贝叶斯理论充当重要角色
+ 分类是根据给定样本描述的可能的类别基础上产生的后验概率分布
    + 基于贝叶斯理论来计算后验概率
+ 分类原理：最大后验估计 MAP(maximum posteriori)

### Rocchio 分类方法

+ 使用中心向量(centroid vector)表示一个类别
    + 中心向量为某个类别下所有文档向量的平均向量
    + 基于训练集计算
+ 对于新文档，计算该文档与每个类别的中心向量的距离/相似度
    + 基于余弦测度
+ 确定其类别为距离最小/相似性最大的类别
+ 优势: 训练快速，模型很小，快速分类
+ 劣势: 类别数量增加时准确率降低

### K 近邻分类方法

+ 与 Rocchio 方法类似
+ 检查新文档的 k 个近邻向量，利用这些近邻向量的类别来确定该文档的类别
    + K 通过实验确定
    + “近邻” 通过相似度/距离测度来定义
+ 1 近邻分类方法
    + 将新文档划分到与其最相近的文档样例所属的类别
+ K 近邻分类方法
    + 基于投票机制，将新文档划分到 k 个近邻文档中多数文档所属的类别
    + 进一步，基于加权投票机制，根据近邻文档的相近程度，赋予每个近邻文档一定的权重
+ 优势
    + 不需要训练阶段
    + 类别数量增加也具有良好的扩展性
+ 劣势
    + 训练数据很大时模型很大
    + 需要大量内存
    + 性能较慢

### 支持向量机 Support Vector Machine

+ 对于二类分类，该方法在向量空间中找出一个决策超平面(分类函数 f(x) = wx + b)，对属于两个类别的文档向量进行有效粉绿
    + 通常有很多可能的分割超平面
    + 找到最好的一个超平面: 最大间隔准则
        + 使得属于不同类别的数据点间隔最大
    + 间隔区边缘上的向量称为支撑向量
+ 实际上要求解一个带约束的二次规划(quadratic programming, QP)问题
+ 训练结果
    + 支撑向量
+ 分类
    + 计算新文档向量与支撑向量的距离
+ 常用工具
    + SVMLight
    + LIBSVM
+ 优势
    + 只有支撑向量用来对新文档分类
    + 模型小
    + 一般不会过拟合
+ 劣势
    + 训练过程非常复杂: 优化问题

### 分类结果评估

+ 对每个分类都可以计算出 precision, recall, F-measure
    + 一般侧重正例的结果
+ 总体评价: 精度(Accuracy) = 正确分类的样本数量 / 总样本数量

### 如何应用于实际

+ 大多数应用都是直接采用已有的分类算法与工具
    + 不需要开发新的
+ 关键在于特征工程
    + 针对特定应用问题寻找合理、有效的特征集
+ 一般需要调节分类算法与工具的多个参数
    + 比如 KNN 中的 K，SVM 中的 C 参数等

---

## 聚类

+ 给定一个数据点集合，每个数据点具有一组属性，数据点之间能进行相似度度量，聚类目标为找到若干类簇：
    + 同一类簇中的数据点相似
    + 不同类簇中的数据点不相似
+ 无监督学习
    + 没有标注数据
    + 类簇未知
+ 相似度度量准则
    + 欧氏距离(L2 norm)
    + 余弦准则
    + L1 范式(L1 norm)
+ 聚类算法
    + K-Means 聚类
    + 层次式聚类(Hierarchical clustering)
    + 增量式单遍聚类
    + 基于图分割的聚类
    + 基于密度峰值的聚类

应用：文档聚类

+ 目标：发现文档类簇，同一类簇中文档相似(基于重要词语)
+ 方法：识别每篇文档中的重要词语，基于文档相似性进行聚类

### 层次式聚类

+ 自底向上的凝聚式聚类(Agglomerative clustering)
    + 初始每个文档自成一个类簇
    + 每次合并最相似/距离最近的两个类簇，形成一个新类簇，循环执行，直到满足终止条件
        + 终止条件为类簇数量或者相似度阈值
    + 结果为树形图
+ 不同的计算类簇间距离/相似性的方法
    + 最小距离(single link)
    + 最大距离(complete link)
    + 平均距离(group average)
+ 自顶向下的划分式聚类(Divisive clustering)
    + 初始只有一个类簇，包括所有文档
    + 每次从当前类簇中选择最大(或最不合理)的一个类簇，将其分割成两个(或多个)新的类簇，循环执行，直到满足终止条件
        + 类簇分割方法可以采用其他聚类方法，比如 K 均值算法等

### K 均值(K-means)聚类

+ 一种基于划分的聚类算法
+ 算法将文档集划分到 k 个类簇中
    + 每个类簇有一个类簇中心，称为 centroid
    + 可基于该类簇文档向量的平均向量计算
+ K 由用户指定

### Buckshot 算法

结合 K-means 与凝聚式聚类

+ 从原始 n 个数据点中随机取 √n 个数据点
+ 针对这些样本数据点上运行凝聚式聚类
+ 使用凝聚式聚类结果作为初始种子点
+ 在元数据上基于初始种子点运行 K-means

改善了种子点的选择

### 增量式单遍聚类(Single-Pass)

+ 增量式聚类，适合于高效处理动态文本数据流
+ 将新文档与已有类簇逐一对比，如果与某个类簇的相似度值大于设定的阈值，那么将该文档归并到相应类簇中，否则基于该文档形成一个新的类簇
    + 数据流中第一个文档形成第一个类簇

### 基于图分割的聚类

+ 计算文档对之间的相似度值，构建相似度图 G=(V,E)
    + 每个文档为图的一个节点
    + 文档之间有边连接，边的权重 W 为文档相似度
+ 文档聚类问题转换成在图上进行顶点分割的问题
+ 切割标准 min cut(A,B)
+ 问题
    + 只考虑了类簇之间的连接情况
    + 没有考虑类簇内部的密度
+ 改进方法: Normalized Cut

### 基于密度峰值的聚类(Science)

+ 简单优美，可自动确定聚类数目，检测孤立点，可识别不同形状的聚类
+ 假设: 类簇中心被一些局部密度较低的点围绕，并且这些点距离其他有高局部密度的点的距离都比较大
+ 聚类过程
    + 计算出所有数据点的局部密度值和到高局部密度点的距离后，可以得到一张决策图
    + 在决策图上挑选具有较大密度的样本点作为类簇中心
    + 将其他样本点按照局部密度从高到底依次确定所属类簇，其类簇为领域内最近的高于该点局部密度的样本点所处的类簇

### 半监督聚类

除了带聚类的数据，还提供了少量先验知识

+ 部分标注信息
    + 例如为若干数据点标注了类簇
+ 约束信息
    + 例如要求某两个数据点必须在同一类簇，或者某两个数据点不能在同一类簇
+ Seeded K-means
    + 用户提供了 Seeded points
    + 利用提供的标注信息(seeded points)寻找初始类簇中心，然后运行 K-means
    + Seeded points 的标签可能会改变
+ Constrained K-means
    + 用户提供了 Seeded points
    + 利用提供的标注信息(seeded points)寻找初始类簇中心，然后运行 K-means
    + Seeded points 的标签不允许被改变

### 聚类结果评估

+ 基于人工标注的类簇进行评价
+ 评价准则包括: F 值、纯度(Purity)、规范化信息(NMI)

### 聚类算法的选择

+ 聚类算法的选择具有挑战性
    + 每种算法都有各自的优势与不足，聚类效果通常依赖于聚类算法、距离函数、具体的数据与应用
+ 实际做法
    + 运行使用不同距离函数的多个聚类算法，分析和比较聚类结果
+ 对聚类结果的解释要基于原始数据的意义以及聚类算法的特性

### 半监督聚类

+ COP K-means
    + 用户提供了 must-link 与 cannot-link 约束
    + 初始化: 类簇中心随机选择，但必须保证满足 must-link 约束，也就是 must-link 的两个数据点不能选择做为不同类簇的中心
    + 算法: 一个数据点必须在不违反任何约束的情况下归属到临近的类簇

### 检索结果聚类

+ 两类方法
    + 先对 snippet 进行聚类，然后为每个类簇选择标签
    + 先分析获取有意义的类簇标签，然后将检索结果划分到不同标签
+ 基于后缀树的检索结果聚类(Suffix Tree Clustering, STC)
    + 时间复杂度低，高效
    + 容易获得每个类簇的关键词标签
    + 允许一个文档属于多个类簇
+ 基于回归学习的检索结果聚类
    + 现货的重要的短语代表类簇，然后再将检索结果跟类簇关联
    + 同样允许一文档隶属多个类簇
    + 候选短语(频率大于3的n-gram(n<=3))
    + 短语重要性排序
        + 看做回归问题
        + 利用 SVM-Light 实现的支撑向量回归等多个回归方法
        + 人工标注短语训练集，也即短语与其重要性分值
    + 短语特征
        + Phrase Frequency/Inverted Document Frequency(TFIDF)
        + Phrase Length
        + Intra-Cluster Similarity
        + Cluster Entropy
        + Phrase Independence

---

## 智能问答基础技术

起源于信息检索社区。根据用户的提问给出简短的答案，有时需要提供答案的证据。

### 问题类型

+ 根据答案类型划分
    + 事实型问题(Factual questions)
    + 观点型问题(Opinions)
    + 摘要型问题(Summaries)
+ 根据问题言语行为(question speech act)划分
    + 是否型问题(Yes/NO questions)
    + WH 问题(WH questions)
    + 间接请求(Indirect Requests)
    + 命令(Commands)
+ 复杂/困难问题
    + 为什么/怎么样(Why, How questions)
    + 什么(What questions)

### 主要技术

+ 传统自动问答技术
    + 基于语料库的自动问答
        + 问题分析(分类、模板匹配、语义分析)
        + 段落检测(段落抽取、排序)
        + 答案抽取(实体识别、模板匹配、排序)
    + 基于知识库的自动问答
+ 社区问答技术
    + 问题分类、问题推荐
    + 专家发现、信誉评估
    + 知识抽取

---

## 互联网信息抽取

**非结构化数据**(纯文本，句子，查询字符串) 和**半结构化数据**(HTML文档，查询日志，词典) -IE-> **结构化数据**(语义知识)

+ 网页主要文本抽取(BTE)方法
    + 识别出一个包含最多词语(排除最多标签)的连续区域
+ 基于文本标签比例的抽取方法(CERT, Content Extraction via Tag Ratios)
    + 绘制文本标签直方图
    + 对文本标签直方图进行变换，并进行聚类，得到网页内容
+ 基于网页分块重要性识别的抽取方法(Learning Block Importance Models for Web Pages)
    + 首先将网页分为块状区域(VIPS, 基于视觉的网页分块算法)
    + 然后对每块区域判断重要性
+ 基于模板的方法
    + 基于批量处子统一模板的网页来自动检测模板
    + 利用模板抽取网页内容

### 文本语义信息抽取

**主要任务**

+ 命名实体抽取(Named entity extraction)
    + 命名实体识别(Named entity recognitoin, NER)
    + 共指消解(Co-reference resolution)
+ 属性抽取(Attribute extraction)
+ 关系挖掘(Relation mining)
    + 相关短语和实体(Related terms and entities)
    + 归类(Categorization)
    + 关系检测与分类(Relation detection and classification)
+ 事件挖掘(Event mining)
    + 事件检测与分类(Event detection and classification)

### 实体识别

+ 识别文本中出现的实体
    + MUC(1997): Person, Location, Organization, Date/Time/Currency
    + ACE(2005): 100 多种更具体的类型
+ 人工规则 vs 机器学习方法
+ 针对不同试题类型与领域考虑不同方法
    + 封闭类(e.g., geographical locations, disease names, gene & protein names): 人工规则 + 词典
    + 语法相关(e.g., phone numbers, zip codes): 正则表达式
    + 语义相关(e.g., person and compnay names): 综合考虑上下文，句法特征，词典，启发式规则等
    + 对于典型的实体类型抽取效果已经较好

### 语义类挖掘

+ 目标：发现同位短语(coordinate terms), 类似于可比实体发现
+ 主要方法
    + 一阶共现(First-order co-occurrences): 普通共现 & 模板
    + **二阶共现(Second-order co-occurrences)**: 分布式相似性
        + 分布式假设：出现在相似上下文(词语、句法)中的词语比较相似

**基于分布相似性(DS)**

+ 定义上下文：句法上下文，词语上下文
+ 将每个短语表示为一个特征向量
    + 特征：短语出现的一个上下文
    + 特征值：上下文针对短语的权重
+ 计算短语相似性
    + 特征向量之间的相似性

**语义层级构建**

+ 主要子任务
    + 为短语(term)赋予类标签或上位词(label)
        + Beijing -> city, cpatial
        + Apple -> company, fruit
        + Red -> Color
        + 方法: Pattern matching + counting
            + 人工设计或自动生成模板
            + 文本模板或 HTML 表格
            + 输出 <term, label, pattern, source, weight> 元组
        + 挑战
            + 边界检测: 短语边界、标签边界
            + 标签选择
        + 合并元组
            + 对于每个短语 T 与标签 L，计算 w(T, L)
        + 方法:简单计数
            + 对于每对(T, L)统计<T, L, P, S, W>元组的数量
            + 或者 TF-IDF
    + 为语义类(semantic class)赋予类标签(label)
        + {Beijing, Shanghai, Dalian...} -> cities, Chinese cities...
        + 方法: 投票(Voting)
    + 构建层级

**通用关系**

关系: 与实体相关的事实

历史: MUC-7(1997) 提出，ACE、KBP 扩展

**关系抽取方法**

+ 基于知识/规则的方法
    + 专家制定规则、模板(可以基于词汇、句法结构)
+ 机器学习方法
    + 半监督学习：基于人工标注数据训练模型
    + 半监督学习：基于自举方法从种子样例中训练模型
        + 自举方法(Bootstrapping): DIPRE(Brin 1998, 双重迭代模板关系抽取)
    + 混合或交互系统
        + 专家与机器学习算法交互(e.g., active learning)从而迭代优化/扩展规则和模板
        + 交互包括标注样例、修改规则等

**属性抽取(Attribute Extraction)**

+ 基于无结构化文本
+ 基于 HTML 表格
+ 基于 Wikipedia Infobox

### 相关系统

+ NeedleSeek
    + needleseek.msra.cn
    + 基于 Web 大规模数据挖掘开放域语义知识
    + 基于挖掘的语义知识回答/服务用户需求
    + 语义卡片(Semantic Card)
        + 将输入的词或段誉映射为一个或多个概念
    + 语义图(Semantic Map)
        + 概念组织成语义类，并获取概念之间的语义关系
+ 人立方系统
    + renlifang.msra.cn 中文
    + entitycube.research.microsoft.com 英文
    + 侧重人物、机构之间的关系
+ 谷歌知识图谱
    + 实体关系网络

---

## 情感分析与观点挖掘

+ 应用
    + 产品比较与推荐
    + 个人与机构声誉分析
    + 电视节目满意度分析
    + 互联网舆情分析
        + 利用文本情感计算技术深入分析人们对社会现实和现象的群体性情绪、观点、思想、心理、意志和要求
    + 反恐与维稳
+ 原型系统与产品
    + 英文: OpinionFinder, RapidMiner, TextMap, Bing 产品搜索, condersr.com, tweetfeel.com
    + 中文: 爱搜车众评, 雅虎人物搜索

### 研究框架

+ 应用层：情感检索，情感摘要，情感问答
+ 核心层：情感要素抽取，情感倾向性分析，主客观分析/观点文本识别
+ 基础层：NLP 基本模块，情感资源收集与标注
+ 来源：产品评论，电影评论，新闻评论，博客，微博

### 情感分类

+ 将文本按照所表达的总体情感进行分类
    + 例如正面(Positive), 负面(Negative), 中性(neutral)
+ 基于话题的文本分类相似又不同
    + 话题词汇很重要
    + 情感词汇更重要，如: great, excellent, horrible, bad, worst, ...

**情感分析任务**

+ 主客观分析/观点文本识别
    + 客观：反映关于世界的事实信息
    + 主观：反映个人情感、信念等
+ 倾向性分析(可看作主客观分析的细粒度处理)
    + 对包含观点的文本进行倾向性判断
    + 一般分为三类：褒义、贬义、中性(在一些问题不考虑中性)
+ 情绪分析
    + 愤怒、高兴、喜好、悲哀、吃惊等等
+ 粒度
    + 词、句子、文档

**情感资源**

+ 情感分析的基础
+ 英文资源较多
    + 情感词典: WentiWordNet, Inquirer 等
        + 包含词语、短语等
        + 倾向性词语、主观性词语
    + 已标注语料库数量较多
    + 开源情感分析工具 OpinionFinder
+ 中文资源较少，但逐年增多
    + 知网 Hownet 提供了部分情感词汇
    + 近两年的评测提供了中文标注文本
        + NTCIR, COAE, NLP&CC 等
+ 情感资源基本上跟领域、语言有关
+ 主客观分析与倾向性分析的资源也不一样

### 情感词汇资源构建

+ 基于心理学的评价理论
+ 任务
    + 确定词语的主观性(subjectivity)
    + 确定词语的倾向(orientation)
    + 确定词语态度的强度(strength)
+ 连接词方法(Conjunction Method)
    + 用 and 相连的形容词通常具有相同的倾向，而用 but 的则具有相反的倾向
    + 对形容词按照不同倾向聚类
+ PMI 方法(Pointwise Mutual Information 点互信息, Orientation, Subjectivity)
    + 判别倾向性：具有相似倾向性的词语倾向于在文档中共同出现
    + 判别主观性：主观性形容词倾向于出现在其他主观性形容词周围
    + 可基于 AltaVista 搜索引擎的 NEAR 操作符返回的结果数进行 PMI 的计算
    + 预测词语的倾向性 SO(t)
+ WordNet 扩展方法
    + 著名的英文词义关系计算资源，词义数据库，包含词义及其关系
    + wordnet.princeton.edu
    + WordNet 中基本单元为Synset(synonym set): (近似)同义集合
        + WordNet 的基本单元
        + 每个 synset 表示一个语义概念
        + Example synset: {hit, strike, impinge on, run into, collide with}
    + 每个词条包括多个 synsets, 注释，使用样例等信息
    + Synsets 通过不同的词义关系相连
    + 使用词语之间的同义、反义关系
    + 假设：形容词通常与其同义词具有相同的倾向性，而与反义词具有相反的倾向性
    + 利用种子形容词集，能够获得 WordNet 中所有形容词的倾向性
+ 释义方法(Gloss Use Method)
    + Orientation, Subjectivity, SentiWordNet
    + 假设
        + 倾向性：具有相似倾向性的词语具有相似的释义
        + 主观性：具有相似倾向性的词语具有相似的释义，不具有倾向性的词语具有无倾向的释义

### 观点抽取

一个观点表示为一个五元组(目标对象, 目标对象特征, 观点的情感值, 观点持有者, 观点表达时间)

观点抽取任务很困难，**重点关注两个子任务**

+ 特征抽取与聚类(aspect extraction and grouping)
    + 抽取对象的所有特征表达，并将同义特征表达聚类。每个特征类表示了关于该对象的独一无二的某个特征
+ 特征情感分类(aspect sentiment classification)
    + 确定观点针对每个特征的情感倾向：正面、负面、中性

**对象特征抽取**

+ 频繁特征：被许多评论提及的特征
+ 非频繁特征抽取：基于同一情感词被用来描述不同特征与对象

---

## 信息摘要

对海量数据内容进行**提炼与总结**，以**简洁、直观**的摘要来概括用户所关注的主要内容，方便用户快速了解与浏览海量内容

### 文档摘要基本技术

+ 早期论文: Luhn. The Automatic Creation of Literature Abstracts(1958)
+ 研究 50 多年，有一定进展，但仍不能令人满意
+ 代表系统
    + **NewsInEssence** by University of Michigan
    + **NewsBlaster** by Columnbia University
+ 摘要任务多样化：单文档摘要，多文档摘要，查询相关的多文档摘要
+ 摘要方法分类
    + **抽取式**
        + 从文档中抽取已有句子形成摘要
        + 实现简单，能保证句子的可读性
    + **生成式/混合式**
        + 生成新的句子，或者对已有句子进行压缩、重构与融合
        + 难度更大，但更接近摘要的本质

### 抽取式文档摘要

**典型框架**

文档集 -> 文档理解 -> **句子重要性计算与排名(利用词语句子的各类特征，基于机器学习)** -> 句子选择 -> 摘要句子排序 -> 摘要

**关键问题**

如何衡量句子的重要性

+ 影响句子重要性的因素
    + 句子长度
    + 句子位置
    + 句子中词语的 TFIDF
    + 句子是否包括线索词
    + 句子是否与标题相似

**不同方法**

+ 基于单一因素的摘要方法
    + 只考虑句子位置
    + Lead Baseline
        + 抽取一篇文档中前几句话形成摘要
    + Coverage Baseline
        + 轮流从不同文档中抽取第一、第二...第 K 句话形成摘要
+ 基于启发式规则
    + 基于经验性公式综合考虑少数几个因素
    + 例如: centroid-based method, 考虑了句子包含词语权重、句子位置、句子与首句相似度
+ 基于有监督学习的方法
    + 可考虑众多因素，由机器学习算法确定最优组合
    + 句子分类
        + 二类分类：句子是否隶属于摘要
        + SVM
    + 序列标注
        + 为每个句子打上标签
        + 可考虑相邻句子之间的关系
        + HMM, CRF
    + 句子回归
        + 为每个句子预测一个反应重要性的分数
        + SVR
+ 基于图排序的方法
    + 如 LexRank, TextRank
    + 只依赖于句子相似度
    + 基于 PageRank 算法或相似算法
    + 步骤
        + 构建图 G = (V, E)，句子作为定点，句子之间有关系则构成边
        + 应用 PageRank 算法或相似算法获得每个顶点的权重
        + 基于句子权重选择句子形成摘要
+ 摘要冗余去除
    + 多文档摘要中不同文档中的句子可能有重复内容
    + 摘要很短，应该尽可能包括多样化内容
    + 选择与摘要中已有句子冗余度小的句子
    + MMR 方法
+ 基于整数线性规划(ILP)的方法
    + 将摘要看做一个带约束的优化问题
    + 基于 ILP 进行求解，可采用现成的 ILP 求解工具
        + 比如 IBM CPLEX Optimizer
    + 同时进行句子抽取与冗余去除
+ 摘要句子排序
    + 句子顺序直接影响摘要可读性
    + 单文档摘要中句子顺序容易确定
        + 依据句子在原文档中的顺序即可
    + 多文档摘要中句子顺序较难确定
        + 可综合考虑句子所在上下文信息进行排序
        + 先确定任何两句之间的先后顺序
        + 再确定多个句子之间的整体顺序

目前摘要总体性能不高，需要方法上的突破。

### 相关评测

+ DUC
    + NIST 组织, 2000-2007
    + 主要任务(传统)：单文档、多文档、查询相关摘要
+ TAC Summarization Track
    + NIST 组织, 2008-2011, 2014
    + 主要任务(新型)
        + Update Summarization
        + Opinion Summarization
        + Guided Summarization
        + AESOP(摘要自动评价)
        + Biomedical Summarization
+ NTCIR-9~10: 1click(新型)
+ TREC2013: Temporal Summarization Track(新型)

---

## 社交网络分析

+ 社会媒体的特性
    + 用户生成内容多，富含观点
    + 群体智慧
    + 用户交互性强
    + 异构网络
+ 社交媒体分析
    + 社交网络分析
        + 基于社交关系、结构进行挖掘
        + 例如：社区检测、连接预测、影响力分析
    + 社交内容挖掘
        + 基于文本等内容数据进行挖掘
        + 例如：摘要、关键词、情感分析

社交网络可以用矩阵表示

### 社会网络

+ 由相互关联的节点(个体或机构)组成的结构
    + 不同关系：例如好友关系、亲属关系等
+ 图表示
    + 节点 = 成员
    + 边 = 关系
+ 现实例子
    + 好友网络(facebook, renren, wechat)
    + 媒体分享(Flickr, Youtube)
    + 社会标注(Del.icio.us)
+ 相关任务
    + 社交网络抽取(Social Network Extraction)
        + 从数据源中抽取、构建社交网络
    + **网络中心性分析(Network Centrality Analysis)**
        + 识别社交网络上最重要的节点(重要性的定义由目的、环境所定)
        + 输入：一个社交网络
        + 输出：最重要的节点列表
        + 方法：为节点计算分数或排序，反映节点的重要性/专业性/影响力
        + 课采用链接分析领域的不同算法
            + PageRank 算法及其变种
            + HITS 算法确定权威源
        + 可以采用**网络中心性测度(Centrality measures)**来评估节点重要性
        + 代表性测度
            + 度数中心性 Degree Centrality -> 入度中心性(indegree centrality, 有向图上的拓展)
                + 有最多朋友的人最重要
            + 中介中心性 Betweenness Centrality
                + 有多少对节点为了以最短路径到达彼此必须经过给定节点？
            + 亲近中心性 Closeness Centrality
                + 一个节点的亲近中心性基于该节点与图中所有节点的平均最短路径计算得到
    + **社区检测(Community Detection)**
        + 一个社区由一个节点结合所表示，该集合中节点之间交互频繁
        + 多种方法
            + 基于子图可达性(K-clique, K-club)
            + 基于节点聚类
                + 节点相似性基于它们的交互模式的相似性而定义
                + 两个节点结构相似(structurally equivalent)，如果它们连接到相同的其他节点
                + 实际上使用向量相似性(cosine similary, Jaccard similarity, ...)
                + 应用 K-means Clustering Algorithm
            + 基于图分割
                + 不同社区之间的交互应该不频繁
                + 图分割 Cut: 两个节点集之间的边的数量
                + 目标: 最小化 Cut
                    + 不足：经常获得包含一个节点的社区
                    + 需要考虑社区大小
    + 分类(Classification)
        + 用户的行为倾向可表达为类别标签
            + 是否点击了一个广告
            + 是否对特定的话题感兴趣
            + 喜欢/不喜欢一个产品
        + 输入
            + 一个社交网络
            + 部分节点的类别标签
        + 输出
            + 网络中其他节点的类别标签
    + 链接预测(Link Prediction)
        + 给定一个社交网络，预测哪些节点相互连接
        + 输出一个节点对列表
        + 例如: facebook 中的好友推荐
    + 病毒式营销(Viral Marketing)
        + 找出若干用户，为其提供优惠或折扣，从而影响网络上的其他用户，使得收益最大化
        + 找到能够覆盖网络的最小节点集合(可用贪心选择)
    + 网络建模(Network Modeling)
        + 发现网络的统计模式
            + Small-world effect(e.g., 6 degrees of separation)
            + Power-law distribution(a.k.a. scale-free distribution)
            + Community structure(high clustering coefficient)
        + 对网络动力学进行建模

### 异构网络

+ 网络中具有不同类型/模态的节点对象
    + YouTube: Users, tags, videos, ads
    + Del.icio.us: Users, tags, bookmarks
+ 网络中节点之间具有不同类型/维度的交互
    + Facebook: Send email, leave a message, write a comment, tag photos
    + Same users interacting at different sites: Facebook, YouTube, Twitter
+ 多模网络 Multi-Mode Network
    + 网络中包含多模态对象
+ 多维网络 Multi-Dimensional Network
    + 网络中包含节点间的异构链接

异构网络在现实中非常普遍，对异构网络的分析与挖掘更具挑战性，是当前数据挖掘领域研究的热点

---

## 信息推荐

### 推荐技术

+ 基于内容的过滤/推荐(Content-based Filtering/Recommendation)
    + 基于用户的历史推荐物品
    + 基于内容特征描述来预测用户的偏好
+ 协同过滤/推荐(Collaborative Filtering/Recommendation)
    + 基于用户群体行为
    + 基于其他具有相似行为的用户为给定用户推荐物品
+ 混合式

### 基于内容的推荐

+ 主要思想：为一个用户推荐与该用户之前感兴趣的物品相似的物品
    + 电影推荐：推荐具有相同演员、导演、类型的电影
    + 新闻推荐：推荐具有相似话题的新闻
+ 用户配置档案(User Profiling)是关键
    + 用户画像
    + 基于用户的历史推荐物品
    + 从样例内容特征描述中基于机器学习与数据挖掘算法获得关于用户兴趣爱好的配置档案
+ 物品表示(Item Representation)
    + 物品一般存储在数据库表中
    + 结构化数据
        + 一定数量的属性
        + 每个物品由同样的属性集所描述
        + 属性的取值范围一般明确
    + 非结构化数据
        + 自由文本，可转为结构化表达
        + 每个词可看做一个属性
+ 用户配置档案(User Profile)
    + 包含两类信息
        + 用户兴趣模型，例如，一个能预测用户对某个物品感兴趣可能性的函数表达(可以机器学习建模)
        + 用户交互历史，例如，用户浏览的物品，用户购买的物品等
    + 用户交互历史可用作训练数据，基于该训练数据采用机器学习算法创建用户兴趣模型
    + 可由用户人工创建
        + 提供选项界面供用户构建
        + 简单数据库查询课找到满足用户条件的物品并推荐给用户
        + 不足
            + 耗费用户精力
            + 不能及时反映兴趣爱好的变化
            + 不能对推荐物品进行排序
    + 基于机器学习的用户建模
        + 基于分类学习从用户历史中对用户兴趣建模
            + 应用分类函数能够获得用户对某物品感兴趣的概率
        + 多种分类学习算法可以应用
            + 决策树：构建一颗决策树表示用户兴趣爱好
            + 最近邻：将所有训练样例存储于内存中，为新的物品找到 K 个最近邻的物品，从用户对这些最近邻物品的偏好计算用户对新物品的偏好

### 协同推荐

+ 基于用户群体
+ 方法
    + 对于给定的用户，找到相似的用户
    + 为给定用户推荐被相似用户高度评分的物品(未被给定用户评分)
+ 优势
    + 不需要分析内容
    + 能够捕捉微妙的线索、关系
+ 三类主要的协同推荐
    + 基于用户
        + 思想：在过去对物品购买、评分一致的用户很可能再次一致
        + 使用相似用户的意见预测特定用户对于一个物品的意见
        + 用户相似性通过用户对其他物品的意见吻合程度来衡量
            + 算法1：使用整个矩阵
            + 算法2：K 近邻
        + 用户冷启动(cold-start)问题
            + 不足以确定新用户的相似用户
        + 数据稀疏(sparsity)问题
            + 当物品数量很多时，用户通常只评价了极少一部分物品，同样难以找到相似用户
        + 扩展性问题
            + 当有百万用户和物品时，计算很慢
        + 物品冷启动问题
            + 不能为新物品预测用户评分，除非已有相似用户对该物品进行评分(注：基于内容的推荐中不存在该问题)
    + 基于物品
        + 一个用户很可能对相似的物品具有相同的评分(类似基于内容的推荐)
        + 物品相似性通过其他用户对物品的评分意见吻合程度来衡量(与基于内容的推荐不同)
        + 相比于基于用户协同推荐的优势
            + 更好地处理用户冷启动问题
            + 提高稳定性(物品相似性要比用户相似性更稳定)
    + 基于矩阵分解
        + 将评分矩阵分解为两个矩阵(也可以是多个)，基于分解结果课计算获得用户对物品的评分(该评分在原始矩阵中不存在)
        + 求解方法
            + Alternating least squares
            + Stochastic gradient descent
+ 需要一个评分矩阵
    + 矩阵每个元素表示一个用户针对一个物品的评分
+ 显式评分：用户评分，是否购买等
+ 隐式评分：用户点击，页面浏览，浏览时间等

### 推荐结果的评估准则

+ 根据不同的推荐问题和具体需求而选择
    + Precision, Recall, MRR, Mean absolute error

### 更多推荐技术

+ 基于社交网络的推荐
+ 基于地理位置的推荐
+ 多模态内容综合推荐
+ 集合推荐/组合推荐

### 主要的开源工具

Name | Language | Type
:--- | ---: | ---:
CofiRank | C++ | collaborative filtering
Crab | Python | recommendation
EasyRec | Java | recommendation
GraphLab | C++ | high performance computation
Lenskit | Java | recommendation
Mahout | Java | general ML
Python-recsys | Python | recommendation
RapidMiner | Java | ML, NLP & data mining
SVDFeature | C++ | matrix factorization
Waffles | C++ | ML and data mining
