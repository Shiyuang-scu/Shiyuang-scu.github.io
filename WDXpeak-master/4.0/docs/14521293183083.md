# caoz 的梦呓 合集

## 创业信息安全

关于创业公司，在资金和技术短缺的情况下，如何做好信息安全呢？

### 运维

1、搭建系统平台，建议选择可靠的云服务商

自己搭建系统，主机托管，你需要运维工程师非常有安全经验，而且需要随时跟进最新的安全漏洞去打补丁，其实对创业公司来说，成本还是有点高的。而第三方比较大的一些云平台，其安全技术团队肯定比绝大部分创业团队的要好很多。

基本上云平台操作系统上的安全性是比较有保证的，当然100%这话不能讲，但是只要有重要的安全公告出来，补丁还是很勤快的，而且如果出现新的漏洞，较好的云服务商多半会帮你做一次检测并发邮件提醒你，这几乎已经是行规了，你只要注意邮件提示一般不会错过重大的问题。部分云服务商还会提供额外的安全检测和系统入侵防范的一些功能选择，前段时间阿里云出了一个较大的故障，就是因为其防入侵的系统出现了一个明显bug，这个事情你分两面看，出问题当然不好，但是不出问题的时候这个功能还是能救你一命的。

目前国内比较大的云平台，腾讯云，阿里云，amazon也进入中国了，当然还有我一直推荐的ucloud云。ucloud老板叫做季昕华，曾先后在华为，腾讯，盛大负责信息安全，是国内有名的信息安全专家。国际上的有amazon，linode，digitalocean等等。

云平台的风险在于，存在穿透风险，以及受到不靠谱邻居的影响，但你做主机托管也存在不靠谱邻居的影响，因为今天的主题是创业公司，如何保障信息安全，所以我建议，拥抱云主机是前期成本较低的情况下能较好保障系统安全的选择。

2、选择合适的第三方安全服务平台

实际上现在创业的平台服务商比十几年前好太多，十几年前个人网站一旦被拒绝服务攻击，除了等死几乎没有选择，而现在，国内有360网站卫士，加速乐，安全宝等免费服务可以帮你扛过中低规模的攻击；国际上有cloudflare帮你扛。 这些服务都是比较可靠的，当然如果被攻击的量级比较高可能需要较多付费，这就要看创业公司的人品了，如果你才刚刚天使轮，手里没几个钱，就被人巨量DDOS攻击，你来问我怎么办，实话说，这个就真没办法了。 但如果你拿了A轮，B轮，你被人打的很惨，你可能还是可以考虑一些付费服务商的。比如加速乐也提供付费的服务，比如厦门零日科技也帮一些创业中的网站提供过抗拒绝服务攻击的支持，此外，必须说明，如果被攻击，建议立即报警，不能向恶势力低头。一般攻击者会有利益诉求，基于利益诉求去追查比基于技术更容易追到攻击者。

另外，所有国内创业者，建议都应该关注乌云平台，乌云是国内影响力最大的白帽安全平台，很多一线互联网公司的高危漏洞都是由乌云白帽率先发现的。 国内互联网有一种特别不好的风气，很多互联网公司觉得谁爆了他们漏洞谁就是坏人，异常敌视，特别是一些不懂技术的老板和市场人员，往往把爆漏洞混淆为攻击和恶意竞争，但实际上，我们稍微动点脑子就知道，如果白帽没有爆漏洞，你的漏洞依然是存在的，如果这个漏洞一直在黑产圈子里传递，你那才是欲哭无泪。前几天我这边的公司被乌云白帽爆了一个超恐怖的高危问题，我觉得非常侥幸，幸亏是白帽发现的，否则真是死都不知道怎么死的，后面会说这个案例。

乌云提供一些付费的安全众测服务，但如果作为比较草根的初创团队，觉得这个成本较高的话，可以考虑先在乌云开一个企业账户，时刻关注重要的安全公告和白帽子提交的问题，也是有用的。

### 研发

1、研发和运维环境的安全

相信很多人都被ios这次xcode木马事件所震惊，这里强调，开发环境和运维环境软件，特别特别要注意。

+ 第一是编译器和相关开发工具包，务必从官方下载。
+ 第二是远程维护工具，例如putty, sshclient 等，务必从官方下载。如果使用第三方下载，比如迅雷，务必于官方核对md5值。
+ 第三，我发现目前telnet用的人已经非常少了，但是依然有很多开发者还是习惯使用ftp！ftp是明文传输，所有经过的路由器和交换机均可以轻松截取密码信息！务必使用加密传输的sftp替代ftp。使用ssh替代telnet！

2、代码分享

很多工程师喜欢将工作成果，代码分享到github或其他代码分享网站，如果说禁止这样做确实不是很尊重工程师的劳动成果，但是我想提醒一点，创业团队如果没有很好的安全开发架构，或缺乏有经验的工程师，如果想分享到github务必将代码私有化，不要公开！不要公开！不要公开！

分享不是说就一定是有问题有隐患的，但是对于一些架构比较简单的开发而言，一些经验匮乏或者疏忽的程序员，很容易把关键密码写到代码里然后分享到github上，这样的案例已经非常非常多了！

说来惭愧，前些日子我的公司技术人员就犯了这个错误，将代码分享到github的时候没有注意到里面包含了一个关键密码，幸亏乌云白帽及时发现，这样的问题如果被黑产发现，可导致任意盗号，而且一旦真的发生了，我肯定会找错方向，去追踪代码安全，找SQL注入的可能性，想要快速追查定位真是难上加难。

3、是全部独立开发还是选择开源系统？

实际上，如果你的开发工程师水平一般，能力不是非常突出，代码的安全质量通常不会比成熟的开源系统更好，成熟的开源系统大多经历了多重的安全风险，至少不会有过于显而易见的安全漏洞。

说一下开发过程中容易犯的安全问题。

第一，SQL注入，第二，跨站脚本，以上两条都是对用户输入和参数传递没有做严格校验导致的。所有通过客户端传递的参数必须做格式校验或强制类型转换才可以使用，这是一个特别特别重要的要求。

第三个常见的安全问题是数据库对用户密码的保存。

不管你认为自己系统多么安全，请相信我，被人扒库的问题永远存在。明文密码保存是一种流氓行为，但如果只做md5也是非常不负责任的，网上早有人把所有常用密码组合的md5全算好了，随便搜一下就可以反解出来。昨天分享的文档提到了随机SALT，使用随机SALT可以让黑客拿到数据库后的破解用户密码的成本极度增加，从而保护用户密码安全。

以discuz为例，我面试过很多程序员，很多都说discuz有很多问题，但是很少有程序员认真去分析过discuz的一些细节，一个典型的是ip地址反查的实现机制，另一个典型的就是密码采用了随机salt +md5的方式，说来惭愧，我开始研究discuz的时候也是很长时间不太理解这个salt是干嘛用的。 所以回过头来说，很多开源软件在技术细节上和安全细节的打磨是远超创业团队的开发人员的。

使用开源系统当然也存在安全风险，比如开源系统一旦爆出漏洞，传播性会非常快，很快就有扫描工具在网上流行，一旦你疏漏了一下，就会中招，产生严重后果，但即便如此，我认为，如果你不具备足够的安全开发能力，使用开源系统的整体安全性还是会优于自己开发，如果你使用开源系统，然后某天因为这个系统漏洞中招了，你来埋怨我，请想想，你自己开发的话，因为不流行，所以惦记着的人少，但是你确信这样就安全了？一旦你业务起来，如果程序员水平不足，别人稍微别人研究一下（是的，即便不开源，研究你系统漏洞的方式也是成熟的，所有的登录入口，参数传递调用，以及交互输入的地方，都是可以做恶意渗入测试的）就能扒出一堆问题，这一点真的不夸张。

如果使用开源系统，又想减少中招的风险，建议将默认配置的目录修改掉，特别是后台管理的目录，以及管理的进入程序名，略微调整一下目录和文件命名规则就能躲避扫描器的跟踪，而且多关注该系统的官方公告和最新安全新闻，也会防止中招，请相信一点，如果知名开源系统出现严重风险，乌云第一时间一定会爆出来，如果是你自己开发的系统，一旦被黑产先发现，真没人知道，你自己想去修补，真的很难找到问题点。

4、防撞库，防暴力破解的验证码

这里只是提醒一下，验证码是对机器访问，撞库攻击，暴力破解（特别是找回密码环节）非常好的一种抵御方式，但验证码其实也是伤害用户体验的，所以要有所取舍，此外，如果采用容易识别的验证码，网上已经有识别验证码的程序流传了，我都用过的，这样作用基本就不存在了。

个人建议，用户第一次输入不出现验证码，输入错误或者同一个ip多次尝试不同的帐号登录，再出现验证码，验证码也要先易后难，防止程序破解，这样兼顾了用户体验以及防止机器人扫描和撞库。

说道这里，介绍一个第三方平台，洋葱网。 利益相关，创始人吴洪声是我的好朋友，也是挂名徒弟。（但其实人家比我厉害很多的） 洋葱网试图通过第三方的一种登录机制管理将传统的密码方式彻底淘汰，当然目前很多应用都将洋葱网作为第三方登录的一种选择，而没有作为自己网站或应用登录的完全替代，但是有兴趣的创业者确实可以了解一下。

### 数据

数据备份也存在一个悖论，因为创业者其实有两个担心，第一个担心，数据泄露怎么办？第二个担心，数据损坏怎么办？ 而这两个担心在备份策略上是互斥的，如果你想防止泄露，理论上你要尽可能减少数据在不同地区存储的机会，尽可能让数据只存储在你完全信任的环境里，但，如果你担心数据损坏，那么你可能需要把数据更多放在不同地方保存备份。 防止比如说，机房失火，或者地震等重大事故，你可能一个地方的数据全部损坏，你仍然可以异地恢复起来。

此外，数据备份又分为热备和冷备一说，前者是保持实时有效性，一旦线上数据库出现访问故障或硬件故障，甚至可以自动切换完成故障转移，但热备也有显著的缺点，就是万一线上数据出现了严重的误操作，或者被SQL注入者执行了一条drop table，对不起，秒秒钟的事情你的热备就完蛋了！ 这时候就只能靠冷备来救命，冷备往往存在一个时间差，会有丢失最新的数据，游戏行业常说的就是，回档。

所以，二者都存在风险，但也都有意义，因此正常情况下建议冷备热备最少各要保留一份，冷备务必要留一些时间差，并且最好要保留多个时间节点备份，防止出现重大的误操作或恶意操作后没有足够发现的时间冷备就被干掉了。

如果热备被误操作或攻击者干掉，最理想的恢复方法是基于最新的冷备先恢复，再用冷备后的数据库日志文件，手工摘除掉最后的错误操作命令然后执行增量恢复。

下面推荐一个平台，叫做多备份，www.dbfen.com。使用多备份，你必须想清楚，数据泄露的风险毕竟存在，备份越多，泄露风险越大。 所以再次强烈建议，用户密码的处理非常重要，明文保存是流氓行径，md5或md5+md5都保护不了绝大部分用户密码，随机salt是成本最低的高效密码保护策略。

其实，我一直觉得，如果是创业公司，我是不是要用户在我的平台有帐号密码呢？现在QQ，微博，乃至微信一键登录都那么成熟，国外更成熟，facebook, google一键登录什么的，多兼容第三方一键登录，自己不用管密码，就不用担心用户密码丢失了，至少丢了也找不到你这边来。 (当然，也要考虑用户的顾虑，很多用户怕你到他社交网络的时间线乱发消息，所以不希望用自己的社交网络帐号登录，特别是游戏，这个也是一种用户需求吧)

对你认为机密的数据做一些简单的加密存储，然后使用这种多备份平台，可能会极大减少数据泄露的风险。因为黑客也是有成本考虑的。

普通的数据库主从是一种常见备份方法，但主从其实并不能彻底保证数据的一致性，另外一种是通过原始的数据库日志文件，比如mysql的binlog恢复数据，一致性较好，但恢复效率极差。 所以很多时候，并没有绝对正确的方案，你必须评估自己的需求，选择适合自己的就好。

代码备份也是一种数据备份，其意义也非常重大，代码备份同时要兼顾版本管理，有些产品，比如游戏，发布到不同国家不同地区的版本都不一样，这个管理就更加复杂了，这一块我们目前做的也不是很好，所以这次灾难备份恢复的周期格外漫长。而且这里还涉及一个问题，开发商和运营商彼此如果配合不到位，开发商也担心运营商会获得原始代码，然后自己甩开开发商开私服，所以如何协调和保障双方的诉求就特别重要。

传奇私服为啥会起来呢？就是因为当时有一个遥远的国度的发行版本被泄露了，代码迅速在地下黑市扩散普及。。。 所以涉及代码版本备份的工作也相当具有挑战性，因为开发商对泄露的敏感度极高。这一块我只能说，目前我们也没有太好的办法来做到大家都能满意，只能说是尽量把这个问题先让双方都清楚，一旦代码服务器发生不可逆转的损坏，备份恢复机制如何进行。

到这里插播一个本应昨天的话题，作为创业公司，如果开发是外包的，务必要求源代码。我见过这样的案例，有个公司外包开发了一套系统，这个系统是php开发的，代码做了加密，后来他们要修改的时候找不到开发者了，来求助我，我帮他们解开了源代码。不看不知道，里面赤果果的留着一个非常显眼的远程控制的炸弹，就是从地址栏输入一个参数可以直接删除数据库，这种后门主要是开发者防止发包商拖欠尾款的，但是这样的后门性质还是相当恶劣的。虽然没有被引爆，但当时他们的技术人员也震惊了。 在这里推荐一个对php加密代码能做解密的工具，利益关联，这个真的一点关联都没有关联了，http://zendecode.com/  不同加密方式的解密途径不同，这个是一个比较好用的工具。

### 员工管理

1、电脑严禁裸奔，不管自称多么懂电脑懂互联网，必须装杀毒软件和安全工具，而且必须装主流的杀毒软件和安全工具。你说你就不花钱你用360可以，你说你不信360你装卡巴斯基也可以，但必须保持不断更新病毒库和保持付费可用状态。

2、保持公司的邮件帐号密码和其他第三方网站的不一致，这也是硬性规定，防止撞库，有些人在第三方网站也就是普通用户，密码丢了也没啥影响，他自己也不知道，黑客也不去改他密码，但是可能在公司里是个管理员，黑客借用第三方网站的盗号撞库杀入你公司系统，可能就有大麻烦。

3、对外合作方式和一些第三方帐号管理

公司员工对外合作经常留有QQ，或者微信，邮件地址。

QQ，微信这个如果让员工换掉有些强人所难，创业毕竟也要人性化。 （部分有条件的公司可以使用企业QQ服务，便于公司统一管理，而对外合作微信可以考虑使用企业公众号来处理，将在职员工设置为公众号客服，这样企业对外合作可以不用因员工变化而改变微信联系方式，但目前这种配置也不是很流行，所以不做硬性推荐），但是邮件务必要用公司的企业邮箱，大公司这一点都不会觉得有问题，有些创业公司会觉得我搞企业邮箱好麻烦，干脆大家用私人邮件干活吧，但如果存在人员流失和离职这个麻烦就很大，有些重要的业务合作邮件可能就无法追溯了。企业邮箱其实有很多免费和廉价的方式，QQ企业邮局，网易企业邮局，google企业邮局，等等。管理员把权限设置好，后续可以省很多麻烦。

我以前助理经常要跟各个业务伙伴进行邮件沟通，该助理离职后，我直接设置将旧邮件地址所有收到的邮件转发给新助理，这样一些合作伙伴的问询和沟通就完全没障碍的转了过来，我甚至没有通知他们联系人发生了变更。

一些重要的邮件账户也要做好备份，管理员应该可以有设置的能力，这样防止主要员工离职后会删除重要资料。 目前我身边听到多个案例有员工遭辞退后删除所有信息的情况。

公司发展业务时，经常需要设置和安排一些第三方的帐号，比如google 开发者帐号，苹果开发者帐号，域名管理的帐号，很多帐号里还要设置多个权限角色，因为不同目标的员工需要上去做一些设置和调整的工作，这里之强调一点，这些帐号务必使用公司邮箱来注册，而不是个人邮箱，这样才能保证公司在人员流动的时候不会突然出现某些第三方平台你需要重新申请重新配置的麻烦。

这种问题对于大公司来说似乎都是理所当然的，但是对于很多刚开始起步的创业团队，他们一开始很可能疏忽了这些，你一个帐号，我一个帐号就开干了，中间一旦产生人员变化，这麻烦折腾的就大了。

4、关于公司的一些机密的维护

其实从我角度讲，我不喜欢防备员工，公司收入，支出，几乎都是公开的，大部分人都可以看得到，只要业务需要，申请一些第三方平台的权限我也基本上都给开，那么，这里是否存在数据及业务泄露的风险呢？其实肯定会有，不过我觉得对于创业公司，你还真别太在意这个，真正有价值的一定不是冷冰冰的信息和数据，而是人对信息的思考和反馈的能力，我不喜欢那种公司里面各种藏着掖着的作风，如果公司规模大了，竞争环境复杂了，我觉得这个当然还是重要的，但是现在我就琢磨，我们这点小破生意，腾讯这样的肯定懒得看吧，我把我数据给他估计他都懒得瞅一眼，同行？和我们差不多的？大家合一起连腾讯的零头都比不上，我们彼此叫啥劲呢。

但不排除有些企业有些领域有核心竞争力的信息是需要保密的，这一点我也没太好的办法，以前朋友的公司做了款产品叫做铁卷，是干这个的，但是，实话说，不是创业公司玩的。

这里多说一点，安全性和便利性肯定是矛盾的存在，如果你过于刻意强调安全，可能很多工作的复杂度就会增加很多，大家也看到我的介绍里，更多推荐使用第三方平台的产品和服务，也是为了创业团队能专心打磨自己的竞争力，没有必要在安全上投入太大精力，实际上，有个安全大牛说过这样一句话，其实除了极少数安全公司的范例，虽然你看每年互联网安全事故那么多，死于安全事故的公司还真不太能找出来。所以，注意安全是必要的，但是，我们也不是说为了安全，弄得人人自危，大家都不安生，那就有点过犹不及了。

好吧，坦白说，死于私服+外挂的大作游戏还是有几款的，要说如何彻底解决这种问题，我真没办法。我只能说，如果你担心这种事情会发生，你只能尽量让你的竞争力不依赖于这个了，比如快速调整的能力，快速应变的能力，即便出现了比较严重的版本外泄，你升级更快，性能调优更强，版本迭代更迅猛，总还是有机会的，之前那些案例，主要还是因为开发商和运营平台不齐心，遇到问题的应对缓慢，策略保守。

5、辞退及离职

创业公司遇到骨干离职会很头大，如果他手里有一些重要的帐号资源，那真是非常紧张和危险的事情。
这就是之前提到的，全部使用公司邮件地址，辞退离职的时候，只要邮件权限拿回，所有帐号都可以通过密码找回重设。

但问题是，你确认你知道他有多少账户么？很可能不知道的。这需要平时做好记录。谁在什么系统拥有什么帐号，拥有什么权限，平时需要有个记录，当员工辞退或离职时，应明确这些帐号已经被收回。

当然，这里还有一个重点，缘聚缘散都是缘分，大家同事一场，一起创业，尽可能不要出现不愉快的收场，作为公司创始人或者管理者，即便你认为有人不适合这个公司，请他离开，也应尊重和善待每一个伙伴，这样可能比你加很多条安全策略还要重要。你就想一下，就算员工有不对的，当你决定招聘他进来的时候，首先是你看走眼了对不对，所以第一个责任肯定在你身上，这样去思考，就会减少很多冲突的可能，事实上，非常高比例的企业内部安全事件，是由心存报复的离职员工发起的。

6、办公软件和工具

前文提到，员工应使用正版或来源有保障的软件，包括但不限于编译器，远程管理工具，邮件客户端，办公软件，图形制作软件。 并且，应及时跟进最新安全补丁。在家办公或远程办公，涉及帐号密码操作，以及登录操作，应尽可能使用加密传输协议，有条件的建立vpn线路。

### 应急处理及响应

这是特别难的一个话题。涉及很多领域：

+ 数据损坏
+ 数据泄露
+ 遭受拒绝服务攻击
+ 域名劫持
+ 服务器被入侵
+ 网站被挂马
+ 等等等等

你跑来问我，对不起，我也没招，找专业安全人士处理。

做好信息安全，三分靠技术，七分靠人脉！别笑，别笑，真的。

遇到好多次险情，危急时刻，都是我还毫不知情的时候被朋友发来消息，“你们服务器出大篓子了，赶紧处理！” 嗯，这事遇到过，还不止一次呢。这就是几次死里逃生的真相。

这里我必须再度强调一次，如果你选择了一些巨头的云服务，遇到紧急情况可以请他们支援，无论是ucloud，还是阿里云，或腾讯云，几个比较大牌的云服务商背后，都有业内非常顶级的安全专家镇守，或者与非常专业的安全公司有深度合作。第二是可以去找乌云求助，让他们帮你做一次紧急的评测和加固服务。

名词解释，云服务穿透。

云服务其实也是一种虚拟空间，每个人认为自己获得了一台独立的服务器，但是很多是彼此共存在同一个系统中的，这就存在一个风险，如果这个虚拟机系统出现一些安全漏洞，就可能被人利用漏洞穿透虚拟机，进入上层的实际系统，然后再进入其他虚拟机，我猜你一定想到了，没错，就跟黑客帝国一样，穿透了自己的世界，进入zion，另一台虚拟机。这是云服务目前最大的风险之一。

不过还好，这样的风险出现过，但是大规模的破坏还没发生过。

另外，任何云服务商的数据存储和系统都不是100%安全的，选择时要知道这一点，不能完全信任任何一个平台，个人建议在其他云平台搭建一个同样的系统，数据完成热备，但不用启用，这样成本其实也不高，最低成本运作就好，在dns服务上做好一个备份的域名，也不启用，一旦主力云平台出现非常重大的事故的时候，可以dns直接cname到备份域名上，然后快速增加资源，启动完整的备份平台。尽可能减少运营损失。

## 信息安全常识科普

先说一些错误的概念

1、对于企业而言，信息安全是技术人员的工作。

+ 错误，普通员工如果不注重安全很容易被突破。内网安全往往是由非技术人员的疏忽造成的。
+ 范例1： 某巨头互联网公司内网曾因某员工不安全的电脑导致ARP欺骗，导致内网dns解析遭受感染，在内网正常电脑的正常用户的访问本公司网址居然被转移到木马网址。
+ 范例2：某信息安全上市公司因销售人员安全意识淡泊个人电脑被入侵，导致内网穿透，信息泄露很久后被发现。
+ 全员信息安全意识培训非常重要。

2、良好的上网习惯，不乱下文件，不点开奇怪的文件，不上奇怪的网站，个人电脑就不会中病毒。所以，裸奔有理 的论调特别流行。

错误，15年前，从尼姆达病毒起，病毒和木马就已经具有了主动攻击性，他们根本不需要你点击和打开，会主动在网段内扫描和入侵有缺陷的主机。

3、装好杀毒软件，打好补丁，就不会被入侵被黑掉。

错误，0day攻击可以轻松穿透杀毒软件和打好最新补丁的系统。

名词解释 0day

我们知道每隔一段时间，微软，苹果或其他系统厂商都会公布安全漏洞，发布安全补丁，然后用户就会及时打补丁防止被入侵，那么我们想一个简单的问题，1、这个漏洞是系统厂商公布的时候才出现的么？2、在漏洞被系统厂商发现之前请问谁能防止基于这个漏洞的攻击？

很遗憾，事实，就是，没有，所以，在安全漏洞没有被系统厂商发现，或者被发现但安全补丁没有发布之前，这段时间，基于这个安全漏洞的攻击，就统称为0day，所以0day实际上不是一种技术形式，而是一种时间的概念，未公开的漏洞是广泛的，长期存在的，有一种说法叫做长老漏洞，什么是长老漏洞呢？比如说有款微软的操作系统漏洞，当微软发现这个漏洞的时候，其存在时间已经超过了10年。那么，这十年是否一直没有被人发现呢？很遗憾，只是没有被微软发现而已，在某些技术高手手里，这是一个通杀的入侵工具，想想可怕不。

那么，谁手里有0day呢，第一，各国军方，美国有，中国也有，俄罗斯有，以色列有，韩国有，日本也会有。第二，各大安全公司，有人会说，安全公司不是要讲操守，发现漏洞不是应该公告么？ 有些会公告，有些不会，为什么不会呢？ 因为有时候需要，比如说，两个安全公司去抢一个军方的订单，军方说了，你来检测一下我的系统，给我一个报告吧，如果你手里没有0day，你可能就竞争不过手里有0day的同行。你对手拿到了人家服务器的权限你没拿到，你不就丢单了么，你说其实你漏洞挖掘比对手强，不过你都公告了，你看微软，google给你一沓感谢信呢，你想想军方领导人怎么想，尼玛另一家随时可以入侵我，而你不能，你让我跟你合作，我傻啊。第三，很不幸，一些个人高手和黑产手里也有，存在0day交易的地下黑市，简单说个数字概念，比如微软给TK教主发现的漏洞和利用方法发奖金，10万美元，大家觉得了不起，这是TK教主比较有操守，如果这个漏洞放到黑产的地下黑市里，100万美金都可以卖掉你信不信。 一个高危漏洞，在黑产手里的话，其价值是极为巨大的，很多人让我写写黑产，但我不敢，实话说，我惹不起他们。你看你看，我敢写黑社会，我不敢写黑产。写了黑社会我大不了不去香港了，写黑产我互联网的业务不要碰了。

那么问题来了，为什么系统厂商不给很高的奖金去奖励安全专家呢？而让漏洞流向黑产？这里还真不是钱的问题，而是存在一个悖论，如果系统厂商，对漏洞的奖励过高，会存在一个管理风险，如果奖金激励太大，那么系统厂商的开发工程师真有可能会故意留一些看上去很不小心的问题点，然后将这个问题点泄露给第三方的安全专家，分享奖金。所以，很多时候，利弊权衡，并不能只看一面。

**名词解释，漏洞挖掘**

什么叫漏洞挖掘，就是针对某个系统，某个应用，去分析其弱点并挖掘其可被利用的漏洞，其结果又分为高危漏洞和低危漏洞，高危一般是可以取得系统控制权，或者利用系统执行一些危险的操作。低危往往是可能导致系统不稳定，或者存在一些非机密信息泄露的可能。

发现漏洞和找到漏洞利用方法是两个步骤。

有的时候安全专家发现一个可能严重的漏洞，比如一个权限很高系统服务在一个偏僻的系统调用处存在一个溢出点。但这时只能说这可能是一个高危漏洞，有时候系统厂商会认为这个漏洞无法利用，当作低危漏洞来处理，这种情况以前很常见，但一旦找到漏洞利用方法，这才是实现一个完美的漏洞挖掘。所以微软很多对安全专家的重奖不是因为发现了一个漏洞，而是提供了一个非常巧妙的漏洞利用方法。

所以公众可能理解黑客是黑掉一个网站，或者黑掉一个账户，而漏洞挖掘不是这样的概念，一旦发现一个高危漏洞，比如说，发现微软操作系统的高危漏洞，可能所有这个版本的用户的电脑都可以被入侵，比如说发现mysql数据库的一个高危漏洞，可能所有使用mysql数据库服务并且存在外网访问接口的都可能被入侵。 所以漏洞挖掘的高手，他们并不是针对特定网站，特别目标去分析，他们的目标是主流的系统和应用。然后一旦有所成就，几乎就等于手里掌握了可以横扫互联网的核武器。在这种情况下，你去说黑掉几个网站了不起，人家就只能呵呵了。

**0day攻击应对策略：暂无**

不过也不用过于紧张，如果你不是特别特别有价值的目标，一般人不会用0day对付你。互联网上有一次经典的0day攻击事件，被一个商业安全公司捅出来的，目标直指伊朗核设施，实施者是谁你猜猜看？

4、我输入可信的网站地址，访问的网站一定是安全的

错，DNS劫持可能让你即便输入了正确的网址，也会进入错误的网站。

+ DNS劫持是一种常见网络安全风险，但其实这里并不只有一种攻击途径，有很多途径可以劫持dns。
+ 从你的主机开始，病毒木马可能会改写你的电脑的host文件，或者改写浏览器的钩子，导致你访问的目标网址被导向其控制者的手里。
+ 如果你的主机是安全的，不能保证你邻居会不会用arp欺骗来干扰你。
+ 这里说句公道话，arp欺骗曾经猖獗一时，对网民上网带来的伤害特别大，改写host和浏览器挂钩子也曾是中国互联网常见的毒瘤，360崛起后这些东西从某种角度基本上没有了(其实还有，一会说)，我知道很多人讨厌360，但这个事实还是必须承认的，当然，3721是浏览器钩子的鼻祖。
+ 你的邻居也安全，你访问的就安全了？你上网是不是默认配置dns的，电信接入商耍流氓在中国太普遍了。 那么你强设了可信任的dns，你访问网址就安全了？ GFW的能力相信大部分人并不真正了解。

刚才说道，某种程度上，浏览器钩子和劫持不常见了，但不是真的没有了，只是特别恶意的基本被遏制了，但是依然有一种常见的，而且极具中国特色的，大家见怪不怪早就习惯的劫持行为，你们如果使用ie浏览器，输入错误网址或文字的时候，按照正常逻辑，应该是跳转到bing的搜索页，早前应该是msn的搜索页，但是很遗憾，在中国你几乎不可能看到这一幕，各种安全工具设置的浏览器钩子早将这个访问劫持了，侥幸没有劫持，也会被电信运营商劫持。这就是我们最常见而又最麻木的dns劫持，这个原因是因为利益链，因为对用户体验来说不是危害，所以没人觉得不对，不展开了。

移动互联网还存在假基站的问题，假基站在国内目前也很猖獗，能不能劫持DNS我不是很明确，但是伪造来电号码是稳稳的，今天我还看到朋友圈有人说亲戚收到移动官方发来短信，点过去链接操作结果被诈骗了几千元，投诉移动没有效果云云，我一看就是中了假基站的骗子短信。所以误以为信息是官方发送的。移动上网其实也是存在风险的。

此外，蹭免费wifi也存在dns劫持风险。

5、百度，新浪这种公司是安全的，所以我在这里的帐号也是安全的。

错误：彩虹库和撞库攻击屡屡突破巨头防线。

**名词解释，彩虹库，社工库**

还记得csdn爆库事件么，很多很多很多论坛社区的用户库都被黑客入侵并拿到过，有些是明文密码的被黑客100%拿到帐号密码，有些仅仅做了md5的被80%拿到，有些做了md5+md5的也差不多被80%拿到，除了做随机salt的几乎都被破的七七八八。

黑客们将彼此拿到的数据库里的用户名和密码，合并在一起，就是社工库，也叫彩虹库。这个库的规模特别大，而且一直还在激增，实际上，社工库的历史特别的悠久，当你从媒体上看到的时候，已经流行了很多年了。

**名词解释，撞库攻击**

由于很多用户习惯在多个网站用同样的帐号和密码，所以一旦A网站的用户密码透露，有经验的黑客会去尝试用同样的帐号密码去b网站尝试，这就是所谓撞库攻击，新浪也好，百度也好，很多巨头都饱受撞库攻击的侵扰，而且很多帐号密码因此被泄露。

应对策略：不同网站密码保持不同；或者对高安全需求的网站强化密码。

6、我的密码很复杂，别人一定不会破解

错误，获取你的权限，其实未必需要你的密码

通过找回密码来暴力破解的以前非常常见

+ 范例1：以前很多邮局都是有通过生日和回答问题来重设密码，通过程序暴力破解生日（最多5分钟）+猜测问题，是攻破很多小姑娘邮箱的绝招。
+ 范例2：腾讯出过一个案例，以手机短信验证码来重设密码，但短信密码只有4位数字，暴力破解只需要9999次，程序员轻松搞定。
+ 应对策略：验证码，而且是变态的验证码是防止程序暴力测试的重要方案。

SQL注入和跨站脚本是获取用户权限非常常见的攻击方式，流行超过15年，至今仍然广泛可用。

其原理是程序员在编写程序中对用户输入或浏览器传递参数校验不够严谨，黑客可以将可执行代码植入到正常的输入或参数中，导致程序员的代码被改写，其中SQL注入是改写数据库查询脚本，跨站脚本是改写浏览器的可执行脚本，但均可未授权获得用户身份并执行危险操作。很多巨头在此跌过跟头，至今不绝。

**嗅探侦听，sniffer**

互联网数据传输会经过很多设备，通过特定软件截获传输的数据，可能会包括很多的敏感信息，包括不限于网站登录的帐号密码，邮件帐号密码等等。

应对策略：http是明文传输，https是加密传输， telnet是明文传输，ssh是加密传输，很多明文传输的协议还有对应加密传输的协议，敏感的浏览和登录行为尽可能使用加密传输方式。

当然，加密传输也存在证书风险，中间人攻击，这是另外一个话题，所以还是要装好的浏览器和安全工具，如果提示证书可能有问题，还是要小心一点。（提示证书有问题不代表一定有问题，评估一下自己操作的敏感程度）

世界上最大的嗅探侦听都在政府手里，美国有棱镜，中国有敏感词。

**权限绕过**

系统对权限的授权判断不严谨，被人绕过验证获得权限。

说个范例，好像是windows98吧，具体版本不记得了，出了一个中文输入法权限绕过漏洞，理论上你必须输入帐号和密码才能进入系统，但是输入帐号的时候可以调用输入法，输入法有个帮助选项，打开帮助找词条可以点击进入浏览器，进入浏览器后就可以直接输入c:\ 了，后面就一马平川，你可以通过浏览器点开cmd命令，然后命令行执行任何操作，系统就完全在你掌控了。

从整个操作流程而言，几乎没什么技术含量，就是一个设计漏洞，系统验证就被绕过了。

**分布式拒绝服务攻击**

用超过系统承受能力的请求，流量导致目标系统无法正常响应，实现攻击效果。这里也包括非常多类型

+ 针对协议弱点的攻击，比如syn flood。实施成本特别低，追溯难度极高，曾经特别流行。
+ 针对流量带宽的攻击
+ 针对应用程序的计算资源的攻击
+ 针对域名解析的攻击

目前黑产这个领域规模特别大，以攻击威胁收保护费是常见手段，据说很多p2p金融公司都交过保护费了。这个我也只能说这么多，理由很简单，我真惹不起。

**缓冲区溢出**

漏洞挖掘的一个重要领域，原理是因为程序中对数据段的长度判断不够严谨，导致数据段超出内存数据区间，从而覆盖代码执行区间，如果数据中在溢出点处编写了精心设计的代码，黑客的这部分代码就会以相关服务程序的权限执行，从而实现黑客目的。大部分系统级别的高危漏洞来自于缓冲区溢出，苹果越狱的某些版本技术似乎也来自于缓冲区溢出技术的实现。

### 其他安全理念

基于社交网络和公开信息，进行诈骗的行为越来越常见，个人建议如下

1. 不要太频繁暴露个人行踪，特别是有钱阶级。
2. 不要过于频繁暴露个人隐私。
3. 对一些可疑的信息要做多次验证，特别是借钱信息，不是说不信任朋友，而是你要小心你朋友可能被盗号了。

很多人不在乎这个，觉得自己安全意识很高，不怕人骗，你的亲戚朋友呢？你的父母呢？

举个例子：如果一个骗子，通过微博或微信朋友圈，知道你的行程，上飞机了，又知道航班晚点了，又知道你所在的公司和出行的目的，给你父母打电话，说是你同事，和你一起出差去哪里做什么，现在你出了车祸急需用钱进手术室，你父母第一时间反应，给你打电话，你在飞机上收不到，你父母又不知道航班晚点了，他们什么感觉？是不是会迫不及待的去给骗子付款！不要以为这样的事情不会发生。


## 为什么说资源往往是种包袱

1998年我刚毕业工作，虽然向往互联网，但是市场上没有啥真正互联网企业，丁磊当时还是个人站长，根本没资格跑到我们学校的招聘会上去（这是另一个话题，过几天我会专门吐槽这个，别挑这里的问题），其他的互联网公司更不知道在哪里。结果去了一家广州有互联网相关业务的企业，其实就是外包部分互联网建设，但是本质是电信系统集成商。这样的公司特征是什么呢？靠背景吃饭，靠关系和资源吃饭，所以一年几个亿也挺滋润，这也符合我们大学读书时候对社会的一种揣度，有背景有关系就好混，没背景没关系就没法混。所以理所当然的认为这就是企业竞争的核心竞争力。

即便离开了那个公司，自己创业，或者去其他各种公司打工，这个思想一直伴随着我，大约有6年的样子，直到2004年，幡然醒悟，原来我搞错了，大错特错了。但是已经过去了6年，有时候我跟年轻人说这些他们不当回事，因为他们还没有这种突然幡然悔悟，发现自己错过了6年黄金时间的机会。

2004年发生了什么呢？第一，我做了一个统计，看到了很多个人网站的数据，我突然发现，没关系没背景的人可以做很牛的事情，而且很有用户基础，然后那些年的很多创业的案例很多想不明白的东西，突然就很清晰的可以理顺了。第二，认识了牛人，无论是吴京川老师还是俞军老师，让我对互联网的认识完全上了一个台阶。 这个话题先停到这里，一会会重新接上。

最近 互联网+ 概念特别火，这里出现了一些争议性的话题，是互联网人可以侵入传统行业抢掉传统行业人的饭碗呢？还是传统行业人学会了利用互联网从而重新奠定其优势地位呢？ 这个话题争议很大，一个典型的说法是，互联网从业者显著低估了传统行业人的能力，其实传统行业的竞争也很激烈，这些佼佼者也非常具有竞争力和实力，而他们一旦学会了使用互联网，很容易收复失地，重新奠定霸主地位。是这样么？

这涉及了另一个重大的话题，就是所谓的互联网思维，到底是不是存在，对传统行业和互联网行业来说，是不是一个巨大的分水岭。

是的，这个词烂大街了，被无数人演绎了无数回，如果你看到一篇文章写着互联网思维，多半要嗤之以鼻，又他妈的来忽悠我。可是今天，很抱歉，我又要提一下这个词，回到刚才的话题，我用了六年的时间，错过了无数机会，然后明白了一个道理，对互联网产生了全新的认识，我想说，这就是互联网思维，前面啰嗦半天就想告诉读者一句，我不是头脑发热，跟着风潮去炒这个概念，而是真正用从业多年的血泪教训来告诉你们，思维方式，对你成长和发展的影响，实在太大了。很多人不是不努力，不是没有能力，但一旦思维方式错了，你再努力，再有能力，也很难做出成绩，如果传统领域的人，转变了思维，你说能不能成，那真的是有机会的，但是，有多少传统领域的人没转过来呢？根据十八年互联网发展观察看（1997年兼职从业就进入互联网领域），数不胜数！而且，传统领域越成功的人，转变观念越难，为什么？你都那么成功了，别人说，你换个活法吧，他能么？他不能！为什么360一打，金山嗖的就转型了，瑞星死了，瑞星传统杀毒做的太成功了啊。

啰嗦半天，互联网思维是什么呢？别笑，就是今天的题图，全心全意为人民服务。 有的人把它挂在墙上，多半是忽悠人的，我在好几次分享会上讲，只有做互联网的，必须把这个放在心里。

有人总结了很多互联网思维的，七条，八条，十五条，各种各样的名词堆，那不是思维，那是技巧，传统领域有技巧，互联网领域也有技巧，思维就这一条。这一条解释了很多传统领域解释不了的事情。

你说传统领域不为人民服务？ 越市场竞争充分的领域，拼服务的越好，越稀缺资源垄断的领域，拼服务的越差，我这么说可以吧。继续回来说历史。

1999年在广州，就有一个项目，经贸委要搞一个b2b，说这个东西建成了，经贸委发个文，底下那么多企业，这项目一下子就能火，但这个项目现在在哪里？为什么b2b后来只有阿里成了（b2c是后话）。

1998年，1999年，互联网访问量最高的网站是一水的电信门户，比如上海热线，当年是中国访问量最大的网站，但是今天这些电信门户都哪里去了？

1999年最大的免费邮局是广州电信旗下的，张静君成为所谓互联网的旗舰人物，现在谁还知道她？还有哪个电信旗下的网站是受用户欢迎的？拼带宽拼资源谁拼的过电信，人家带宽不要钱就这一点气死多少站长，而且上网就可以强推，你不服都不成，但是到最后你看看电信在互联网领域除了劫持dns弹广告还干了啥。

贵州信息港的域名掉了他们因为有dns缓存，过了一个月都不知道，连运营数据都没关心过，这种运营态度怎么可能活下来？

千龙新闻网成立的时候那资源，那背景，那关系，当时分析师一致认为新浪完蛋了，结果呢？到了十年后已经沦落为知名的垃圾SEO站外链农场。

拥有资源优势的一方，习惯利用垄断资源获利的一方，往往失去了对用户的真正关心，往往习惯了利用资源和背景，而不是产品来说话。

说说第一任老东家，说牛逼也牛逼，全广东的移动计费是这家做的，广州的1258和1860是这家做的，这资源和背景够拽了吧，按当时老板的说法，当年丁磊见了老板那是毕恭毕敬的晚辈。SP火的时候，这么强的背景资源完美错过，为啥呢？习惯一个单子几千万了，哪里看得上一毛一毛赚钱的生意，结果丁磊一毛一毛的赚，硬是把快退市的网易带翻身了。

我们有的时候会被媒体或各种所谓分析师误导，认为没资本，没钱就玩不起互联网，其实当然，有资本，有钱，你做事情肯定更容易，我非说没钱没资本比有钱有资本好你肯定认为我脑袋被夹了，但是如果思维方式没跟上，钱、资本、资源，技术均构不成竞争力。

我进百度后折服于俞军的见识，有时候也想去翻翻旧账，看看他是不是一直都那么厉害，不翻不知道，翻了更折服了。2001年在新浪搜索论坛，很多人讨论一个话题，当年微软高调进入搜索领域（不是现在的bing，是更早的MSN搜索），当时很多人说（包括后来的百度高管在内），微软那实力，背景，技术能力，进入搜索，google必死。（那时候google只是一个创业小公司）。俞军说，微软没戏，因为他们不懂搜索。一语中的。早在雅虎和新浪统治中美互联网的时候，俞军就判定搜索引擎会改变互联网的格局，门户为王会让位于搜索引擎的崛起，而传统巨头在这个领域没有任何机会（对微软，对雅虎，这样的巨头做搜索均表示明确的不屑）。这种见识和判断力，到今天我都比不了，但是换回来说，传统巨头的思维方式，是他们无法在新领域取得领先的一个重要障碍。

互联网和传统领域最大的一个差异是，用户选择权扩大了，用户的每次搜索，为什么选择你的品牌而不是你对手的，用户的每次点击，每次浏览，都是在投票，投你的票还是你对手的票，你要想让用户投你的票，就要费尽心机的去理解他们，取悦他们，所以，在这个一人一票的世界里，全心全意为人民服务，才会成为真正的竞争力。

当然，有人说了，我有钱有资源硬推广，用户就只能选我了，是么？如果你产品足够好，体验足够强，是的，同样的产品拿去推肯定有钱的能赢没钱的，我非说没钱的去赢你一定觉得我有病。但是话说回来，很多有钱有资源的人，就是觉得我有钱有资源，我产品随便推都行，那就完蛋了。

你说360强推首页网址导航，成功不，没几个月把搜索份额推到市场第二，确实厉害，可是我们翻翻旧账，在互联网上普及率最高的客户端不是360，而是QQ对不对，QQ十几年如一日的默认选择让用户设置qq.com为首页，效果如何呢？不如360几个月的设置效率高！为什么？是因为360更流氓？是因为腾讯完全没搞明白这个道理，用户不需要门户做首页！用户需要网址导航做首页！ 我在知乎回答搜搜为什么不行这个问题，还有很多人纠缠不清讲七讲八，我说我很多年前就下了断言，搜搜只要一日屈从于qq.com门户之下，就一日没有办法出头，什么时候qq.com变成网址导航了，搜搜的市场地位立即就会攀升，让百度惊出一身汗，但最后证实我预见的，是360。为什么qq这么强的客户端资源没有打造出强搜索，没有打造成最多用户访问的首页，因为你思路整个错了么。你连用户最基本的需求都不明白，你连搜索，导航，门户的关系都不明白，你推首页的效率比起对手连1/5都没有，你还觉得这样好像挺不错。你有钱，有技术，有资源又怎样，这和微软，雅虎做不成搜索的道理一样一样的。

再说个例子，当时社交网络火的时候，搜狐也凑热闹，推一个叫做白社会的社区产品，买游戏送房子，这投入可以吧，当时很火爆，日活跃几百万的有，我们那时候内部讨论，大家都觉得搜狐这招挺厉害的，李兴平就十分霸气的来了一句，这玩意没用的，这些用户根本不是忠实用户，以后留不住的，一语中的。 现在谁还记得白社会是什么？你有钱真了不起么？你不踏踏实实去分析用户，去讨好用户，你靠广告费，靠市场活动去砸用户，你以为用户对你是真爱？人家是看你人傻钱多来的，醒醒吧。

最初中国互联网的十年，基本都是没资源没钱没背景的人战胜了有钱有资源有背景的，我不敢说100%，但是90%都是这样，一个个举例子我能举出几十个，但最近五年不太一样，很多有背景有资源的做的也风生水起，主要原因是最近这些年有经验的产品经理越来越多，用户体验这个概念越来越深入人心，有资源的创业者也知道要学习草根，如何去做正确的产品了。举个例子，2008年之前，北上广深哪个有规模的互联网公司认真研究过李兴平和他做的网站，但是最近几年连汪华老师都在创新工场分享李兴平的创业案例了（虽然他把李的名字还说错了，不过汪华老师还是我非常佩服的一个人，他分享的很多案例我也经常引用），所以一旦思维转变过来了，资源优势的价值当然还是有的。

最近互联网有个很操蛋的论调，（对不起，我说脏话了，但是我觉得有些人就是脑袋被夹了），他们千方百计的要证明，马化腾，马云，不是普通的白手起家，是有点背景的，有点关系的，从而证明没背景没关系还是吃不开的。你是觉得非要世代贫农的子弟白手起家创业才是我们学习的楷模么？即便是这样的案例也不少怎么就看不见呢？ 比马化腾，马云背景优越，资源丰富的人比比皆是，为什么他们成了呢？当时马化腾刚开始融钱被各种分析师不屑嘲笑挖苦的时候你怎么不说他背景优越呢？

另一种操蛋说法是这些巨头目前政府关系都很深厚，所以没背景是不行的，这也他妈的是废话，如果你做了一个公司做到百亿美元以上，你在中国，你不去做政府关系？你不被政府领导约去聊天喝茶陪着走走路看看大场面？你想想什么是因什么是果啊。你业务做起来了当然要有这些了，这是果不是因啊。

google那句话，服务好你的用户，其他一切纷至沓来，其实就是互联网思维的真实写照，但是很可惜，直到今天，很多人就是不信。

今天写的是个特别简单的道理，但是写的非常啰嗦，因为这个简单的道理很多人就是不明白，感谢您耐烦的看到这里。但是如果您非要说，即便到了互联网领域，垄断资源一样是垄断资源，传统巨头一样可以凭借垄断资源称王称霸，那我只能无可奈何的呵呵，是的，您总是对的。

回到争论本身，传统行业进入互联网，最大的障碍，不是技术，不是能力，而是思维方式的转变，彻底转变的难度很大，但是一旦转变过来，肯定还是有机会的。

之前跟一些投资人也提过，如果创业者特别喜欢强调其资源，背景，可能不是一个合适的投资目标，不过感觉他们也不太信。



